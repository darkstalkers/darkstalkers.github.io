{"version":3,"sources":["print-entry.js"],"names":["$","REGIONS","ENV","arcade","ps3","xbox","CHARACTERS","id","name","image","charas","i","len","length","chara","count","optionsHTML","character","$options","each","select","append","clone","regionOptionsHTML","region","$regionOptions","on","prop","changeForm","lastModifyEntryKey","database","firebase","ref","teamsRef","child","singlesRef","entries","configRef","config","once","snapshot","val","open","adminPass","set","configUpdated","show","hide","teamNo","teams","team","key","no","members","tmpl","toTemplateFormat","fadeIn","appendTo","addOption","push","teamUpdated","singles","single","prependTo","singleUpdated","remove","removeOption","splice","old","replaceWith","changeOptionLabel","e","preventDefault","collapse","enableActionButtons","hideMessages","isMediation","validate","data","getFormData","dataRef","onComplete","trigger","showMessage","setTimeout","modal","showMessage2","password","md5","entry","setFormData","text","removeClass","pass","comfirmDelete","href","replace","scrollTo","type","enabled","isEdit","num","updatedAt","Date","toString","comment","env","history","after","selector","label","value","reverse","prepend","find","option","message","fadeOut","empty","className","addClass","handle","div","span","button","cancel","adjust","animate","scrollTop","eq","offset","top","document","hasClass","focus","style","cssText","reset","urlReplace","attr","pushState","location","hash","back","updateTotalCount","getDateString","analytics","upCountTask","totalCount","forEach","member","clearTimeout","afterCount","click","clearFormPlayer","selectedIndex","task","pCharas","extend","pCharasArray","sortByCount","objectToArray","displayCharaCount","regionCount","parseInt","regionData","undefined","sort","a","b","object","array","selecter","totalSelecter","date","getFullYear","padLeft","getMonth","getDate","getHours","getMinutes","getSeconds","str","pad","buf","slice","charaBlank","charaName","charaIcon","console","log"],"mappings":"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","sourcesContent":["$(function(){\n  var REGIONS = ['北海道','青森県','岩手県','宮城県','秋田県',\n  '山形県','福島県','茨城県','栃木県','群馬県','埼玉県','千葉県',\n  '東京都','神奈川県','新潟県','富山県','石川県','福井県','山梨県',\n  '長野県','岐阜県','静岡県','愛知県','三重県','滋賀県','京都府',\n  '大阪府','兵庫県','奈良県','和歌山県','鳥取県','島根県','岡山県',\n  '広島県','山口県','徳島県','香川県','愛媛県','高知県','福岡県',\n  '佐賀県','長崎県','熊本県','大分県','宮崎県','鹿児島県','沖縄県'\n  ];\n  var ENV = {\n    arcade: 'アーケード',\n    ps3: 'PS3',\n    xbox: 'Xbox'\n  }\n\n  var CHARACTERS = [\n    {\n      id: 'anakaris',\n      name: 'アナカリス',\n      image: 'img_s_anakaris_50x50.jpg'\n    }, {\n      id: 'aulbath',\n      name: 'オルバス',\n      image: 'img_s_aulbath_50x50.jpg'\n    }, {\n      id: 'bishamon',\n      name: 'ビシャモン',\n      image: 'img_s_bishamon_50x50.jpg'\n    }, {\n      id: 'bulleta',\n      name: 'バレッタ',\n      image: 'img_s_bulleta_50x50.jpg'\n    }, {\n      id: 'demitri',\n      name: 'デミトリ',\n      image: 'img_s_demitri_50x50.jpg'\n    }, {\n      id: 'felicia',\n      name: 'フェリシア',\n      image: 'img_s_felicia_50x50.jpg'\n    }, {\n      id: 'gallon',\n      name: 'ガロン',\n      image: 'img_s_gallon_50x50.jpg'\n    }, {\n      id: 'jedah',\n      name: 'ジェダ',\n      image: 'img_s_jedah_50x50.jpg'\n    }, {\n      id: 'leilei',\n      name: 'レイレイ',\n      image: 'img_s_leilei_50x50.jpg'\n    }, {\n      id: 'lilith',\n      name: 'リリス',\n      image: 'img_s_lilith_50x50.jpg'\n    }, {\n      id: 'morrigan',\n      name: 'モリガン',\n      image: 'img_s_morrigan_50x50.jpg'\n    }, {\n      id: 'qbee',\n      name: 'キュービー',\n      image: 'img_s_qbee_50x50.jpg'\n    }, {\n      id: 'sasquatch',\n      name: 'サスカッチ',\n      image: 'img_s_sasquatch_50x50.jpg'\n    }, {\n      id: 'victor',\n      name: 'ビクトル',\n      image: 'img_s_victor_50x50.jpg'\n    }, {\n      id: 'zabel',\n      name: 'ザベル',\n      image: 'img_s_zabel_50x50.jpg'\n    }\n  ];\n\n  // ハッシュ作成\n  var charas = {}\n  for (var i = 0, len = CHARACTERS.length; i < len; i++) {\n    var chara = CHARACTERS[i];\n    charas[chara.id] = {\n      name: chara.name,\n      image: chara.image,\n      count: 0\n    };\n  }\n\n  // 使用キャラ選択の作成\n  var optionsHTML = '';\n  for (var i = 0, len = CHARACTERS.length; i < len; i++) {\n    var character = CHARACTERS[i];\n    optionsHTML +=\n      '<option value=\"' + character.id + '\">' + character.name + '</option>';\n  }\n  var $options = $(optionsHTML);\n  $('select.characters').each(function(i, select) {\n    $(select).append($options.clone());\n  });\n\n  // 都道府県選択の作成\n  var regionOptionsHTML = '';\n  for (var i = 0, len = REGIONS.length; i < len; i++) {\n    var region = REGIONS[i];\n    regionOptionsHTML +=\n      '<option value=\"' + (i+1) + '\">' + region + '</option>';\n  }\n  var $regionOptions = $(regionOptionsHTML);\n  $('select.regions').each(function(i, select) {\n    $(select).append($regionOptions.clone());\n  });\n\n  // フォーム切替\n  $('input[name=entry-type]').on('change', function() {\n    if ($('#type-single').prop('checked')) {\n      changeForm('single');\n    } else {\n      changeForm('team');\n    }\n  });\n\n  var lastModifyEntryKey = '';\n\n  // firebase\n  var database = firebase.database();\n  var ref = database.ref('05/data');\n  var teamsRef = ref.child('teams');\n  var singlesRef = ref.child('singles');\n  var entries = {};\n\n  // 設定\n  var configRef = ref.child('config');\n  var config;\n  configRef.child('open');\n  configRef.once('value', function(snapshot) {\n    config = snapshot.val();\n    if (!config) {\n      config = {\n        open: true,\n        adminPass: 'e421b0ade1927b91fa41bfa2baf72eb5'\n      }\n      configRef.set(config);\n    }\n    configUpdated(config);\n    configRef.on('value', function(snapshot) {\n      config = snapshot.val();\n      configUpdated(config);\n    });\n  });\n\n  function configUpdated(config) {\n    if (config.open) {\n      $('.entry-action').show();\n    } else {\n      $('.entry-action').hide();\n    }\n  }\n\n  // 追加\n  var teamNo = 0;\n  var teams = [];\n  teamsRef.on('child_added', function(snapshot) {\n    var team = snapshot.val();\n    var key = snapshot.key;\n    team.no = ++teamNo;\n    team.key = key;\n    switch (team.members.length) {\n      case 3:\n        $('#template-team3').tmpl(toTemplateFormat(team, 3)).fadeIn(1000).appendTo('#teams');\n        break;\n      case 2:\n        $('#template-team2').tmpl(toTemplateFormat(team, 2)).fadeIn(1000).appendTo('#teams');\n        break;\n      case 1:\n        $('#template-team1').tmpl(toTemplateFormat(team, 1)).fadeIn(1000).appendTo('#teams');\n        break;\n      default:\n    }\n\n    entries[key] = team;\n    addOption('#target-team', team.name, key, true);\n    teams.push(team);\n    teamUpdated(team);\n  });\n  var singles = [];\n  singlesRef.on('child_added', function(snapshot) {\n    var single = snapshot.val();\n    var key = snapshot.key;\n    single.key = key;\n    $('#template-single').tmpl(toTemplateFormat(single, 1)).fadeIn(1000).prependTo('#singles');\n    entries[key] = single;\n    addOption('#target-single', single.members[0].name, key, true);\n    singles.push(single);\n    singleUpdated(single);\n  });\n\n  // 削除\n  teamsRef.on('child_removed', function(snapshot) {\n    var key = snapshot.key;\n    $('#' + key).remove();\n    removeOption('#target-team', key);\n    delete entries[key];\n    for (var i = 0, len = teams.length; i < len; i++) {\n      if (teams[i].key === key) {\n        teams.splice(i, 1);\n        break;\n      }\n    }\n    teamUpdated();\n  });\n  singlesRef.on('child_removed', function(snapshot) {\n    var key = snapshot.key;\n    $('#' + key).remove();\n    removeOption('#target-single', key);\n    delete entries[key];\n    for (var i = 0, len = singles.length; i < len; i++) {\n      if (singles[i].key === key) {\n        singles.splice(i, 1);\n        break;\n      }\n    }\n    singleUpdated();\n  });\n\n  // 変更\n  teamsRef.on('child_changed', function(snapshot, old) {\n    var team = snapshot.val();\n    var key = snapshot.key;\n    team.no = entries[key].no;\n    team.key = key;\n\n    switch (team.members.length) {\n      case 3:\n        $('#' + key).replaceWith($('#template-team3').tmpl(toTemplateFormat(team, 3)).fadeIn(1000));\n        break;\n      case 2:\n        $('#' + key).replaceWith($('#template-team2').tmpl(toTemplateFormat(team, 2)).fadeIn(1000));\n        break;\n      case 1:\n        $('#' + key).replaceWith($('#template-team1').tmpl(toTemplateFormat(team, 1)).fadeIn(1000));\n        break;\n      default:\n    }\n\n    \n    entries[key] = team;\n    changeOptionLabel('#target-team', team.name, key);\n    for (var i = 0, len = teams.length; i < len; i++) {\n      if (teams[i].key === key) {\n        teams[i] = team;\n        break;\n      }\n    }\n    teamUpdated(team);\n  });\n  singlesRef.on('child_changed', function(snapshot, old) {\n    var single = snapshot.val();\n    var key = snapshot.key;\n    single.key = key;\n    $('#' + key).replaceWith($('#template-single').tmpl(toTemplateFormat(single, 1)).fadeIn(1000));\n    entries[key] = single;\n    changeOptionLabel('#target-single', single.members[0].name, key);\n    for (var i = 0, len = singles.length; i < len; i++) {\n      if (singles[i].key === key) {\n        singles[i] = single;\n        break;\n      }\n    }\n    singleUpdated(single);\n  });\n\n\n  // エントリー（保存）\n  $('#entry-button').on('click', function(e) {\n    e.preventDefault();\n    $('#edit-form').collapse('hide');\n    enableActionButtons(false);\n    hideMessages();\n\n    // validate\n    var isMediation = $('#type-single').prop('checked');\n    if (!validate(isMediation)) {\n      enableActionButtons(true);\n      return false;\n    }\n    var data = getFormData();\n    var dataRef;\n    if (isMediation) {\n      dataRef = singlesRef.push(data, onComplete);\n    } else {\n      dataRef = teamsRef.push(data, onComplete);\n    }\n\n    function onComplete() {\n      $('#type-team').trigger('change');\n      showMessage('success', 'エントリーが完了しました', true);\n      $('.team-entry-form > .form-group').hide();\n      setTimeout(function(){\n        $('#team-entry').modal('hide');\n      }, 1500);\n      lastModifyEntryKey = dataRef.key;\n    }\n  });\n\n  // 編集・削除の入力\n  $('#input-button').on('click', function(e){\n    e.preventDefault();\n    hideMessages();\n\n    if ($('#target').prop('selectedIndex') === 0) {\n      showMessage2('danger', '対象のエントリーを選択してください');\n      return false;\n    }\n    if ($('#input-pass').val().length === 0) {\n      showMessage2('danger', 'パスワードを入力してください');\n      return false;\n    }\n\n    var key = $('#target').val();\n    var password = md5($('#input-pass').val());\n    var entry = entries[key];\n    if (entry.password === password || config.adminPass === password) {\n      // エントリー情報セット\n      setFormData(entry, key);\n      $('#message').hide();\n      $('#entry-button').hide();\n      $('#edit-button').show();\n      $('#delete-button').show();\n      $('#entry-form-title').text('エントリーの編集・削除');\n      $('.entry-explain').hide();\n      $('.pass .badge').hide();\n      $('#pass').removeClass('require').prop('placeholder', 'パスワードを変更する');\n      $('#team-entry').removeClass('edit');\n      hideMessages();\n    } else {\n      showMessage2('danger', 'パスワードが違います');\n      return false;\n    }\n  });\n\n  // 編集する\n  $('#edit-button').on('click', function(e) {\n    e.preventDefault();\n\n    enableActionButtons(false);\n    hideMessages();\n\n    // validate\n    var key = $('#key').val();\n    if (key.length === 0) {\n      showMessage('danger', 'エラーが発生しました。もう一度最初からやり直してください');\n      enableActionButtons(true);\n      return false;\n    }\n    var isMediation = $('#type-single').prop('checked');\n    if (!validate(isMediation, true)) {\n      enableActionButtons(true);\n      return false;\n    }\n\n\n    var data = getFormData();\n    var dataRef;\n\n    // パスワードの入力がなければ旧パスワードのまま\n    var pass = $('#pass').val();\n    if (pass.length !== 0) {\n      data.password = md5(pass);\n    } else {\n      data.password = entries[key].password;\n    }\n    var dataRef;\n    if (!entries[key].name && !isMediation) {\n      // 斡旋からチームエントリー\n      dataRef = singlesRef.child(key);\n      dataRef.set(null);\n      dataRef = teamsRef.push(data, onComplete);\n    } else if (entries[key].name && isMediation) {\n      // チームエントリーから斡旋\n      dataRef = teamsRef.child(key);\n      dataRef.set(null);\n      dataRef = singlesRef.push(data, onComplete);\n    } else if (isMediation) {\n      // 斡旋から斡旋\n      dataRef = singlesRef.child(key);\n      dataRef.set(data, onComplete);\n    } else {\n      // チームエントリーからチームエントリー\n      dataRef = teamsRef.child(key);\n      dataRef.set(data, onComplete);\n    }\n    function onComplete() {\n      showMessage('success', '編集が完了しました', true);\n      $('.team-entry-form > .form-group').hide();\n      setTimeout(function(){\n        $('#team-entry').modal('hide');\n      }, 1500);\n      lastModifyEntryKey = dataRef.key;\n    }\n  });\n\n  // 削除する\n  $('#delete-button').on('click', function(e) {\n    e.preventDefault();\n\n    enableActionButtons(false);\n    // validate\n    var key = $('#key').val();\n    if (key.length === 0) {\n      showMessage('danger', 'エラーが発生しました。もう一度最初からやり直してください');\n      enableActionButtons(true);\n      return false;\n    }\n    comfirmDelete(function(e){\n      e.preventDefault();\n      var isMediation = $('#type-single').prop('checked');\n      var dataRef;\n      if (isMediation) {\n        dataRef = singlesRef.child(key);\n        dataRef.set(null, onComplete);\n      } else {\n        dataRef = teamsRef.child(key);\n        dataRef.set(null, onComplete);\n      }\n    });\n\n    function onComplete() {\n      showMessage('success', '削除が完了しました', true);\n      $('.team-entry-form > .form-group').hide();\n      setTimeout(function(){\n        $('#team-entry').modal('hide');\n      }, 1500);\n    }\n  });\n\n  // スムーズスクロール\n  $('.anchor-button').on('click', function(e) {\n    e.preventDefault();\n    var href = '#' + this.href.replace(/.*#/, '');\n    scrollTo(href, -70);\n  });\n\n  function hideMessages() {\n    $('#message').hide();\n    $('#message2').hide();\n  }\n\n  function changeForm(type) {\n    if (type === 'single') {\n      $('#member1').show();\n      $('#member1 > legend').hide();\n      $('#member2').hide();\n      $('#member3').hide();\n      $('#team-name').hide();\n      $('.pass').show();\n    } else {\n      $('#member1').show();\n      $('#member1 > legend').show();\n      $('#member2').show();\n      $('#member3').show();\n      $('#team-name').show();\n      $('.pass').show();\n    }\n  }\n\n  function enableActionButtons(enabled) {\n    $('#entry-button').prop('disabled', !enabled);\n    $('#edit-button').prop('disabled', !enabled);\n    $('#delete-button').prop('disabled', !enabled);\n    $('#cancel-button').prop('disabled', !enabled);\n  }\n\n  function validate(isMediation, isEdit) {\n    if (typeof isEdit == 'undefined') {\n      isEdit = false\n    }\n    if (!isMediation) {\n      if ($('#teamName').val().length === 0) {\n        showMessage('danger', 'チーム名を入力してください');\n        return false;\n      }\n    }\n    if ($('#member1-name').val().length === 0) {\n      showMessage('danger', '1人目のプレイヤー名を入力してください');\n      return false;\n    }\n    if ($('#member1-character').prop('selectedIndex') === 0) {\n      showMessage('danger', '1人目の使用キャラを選択してください');\n      return false;\n    }\n    if (!isMediation) {\n      for (let i = 1; i < 3; i++) {\n        let num = i + 1;\n          if ( $(`#member${num}-name`).val() ||\n            $(`#member${num}-character`).prop('selectedIndex') !== 0 ||\n            $(`#member${num}-comment`).val() ||\n            $(`#member${num}-region`).prop('selectedIndex') !== 0 ||\n            $(`#member${num}-env`).prop('selectedIndex') !== 0 ||\n            $(`#member${num}-history`).val() ||\n            $(`#member${num}-join-ok`).prop('checked') ||\n            $(`#member${num}-join-ng`).prop('checked')\n          ) {\n            if ($(`#member${num}-name`).val().length === 0) {\n              showMessage('danger', `${num}人目のプレイヤー名を入力してください`);\n              return false;\n            }\n            if ($(`#member${num}-character`).prop('selectedIndex') === 0) {\n              showMessage('danger', `${num}人目の使用キャラを選択してください`);\n              return false;\n            }\n          }\n      }\n    }\n    // if (!isMediation) {\n    //   if ($('#member2-name').val().length === 0) {\n    //     showMessage('danger', '2人目のプレイヤー名を入力してください');\n    //     return false;\n    //   }\n    //   if ($('#member2-character').prop('selectedIndex') === 0) {\n    //     showMessage('danger', '2人目の使用キャラを選択してください');\n    //     return false;\n    //   }\n    //   if ($('#member3-name').val().length === 0) {\n    //     showMessage('danger', '3人目のプレイヤー名を入力してください');\n    //     return false;\n    //   }\n    //   if ($('#member3-character').prop('selectedIndex') === 0) {\n    //     showMessage('danger', '3人目の使用キャラを選択してください');\n    //     return false;\n    //   }\n    // }\n    if (!isEdit && $('#pass').val().length === 0) {\n      showMessage('danger', '削除・編集用のパスワードを入力してください');\n      return false;\n    }\n    return true;\n  }\n\n  function getFormData() {\n    // must inputs\n    var data = {\n      updatedAt: new Date().toString(),\n      password: md5($('#pass').val()),\n      members: []\n    }\n\n    for (let i = 0; i < 3; i++) {\n      let num = i + 1;\n      if ($(`#member${num}-name`).val()) {\n        data.members.push({\n          name: $(`#member${num}-name`).val(),\n          character: $(`#member${num}-character`).val(),\n          comment: $(`#member${num}-comment`).val().replace(/[\\n\\r]/g, ''),\n          region: $(`#member${num}-region`).val(),\n          env: $(`#member${num}-env`).val() || '',\n          history: $(`#member${num}-history`).val() || '',\n          after: $(`input[name=member${num}-after]:checked`).val() || ''\n        });\n      }\n    }\n\n    if ($('#type-team').prop('checked')) {\n      // チーム名\n      data.name = $('#teamName').val();\n    }\n    return data;\n  }\n\n  function setFormData(entry, key) {\n    $('#key').val(key || '');\n\n    for (let i = 0; i < entry.members.length; i++) {\n      let num = i + 1;\n      $(`#member${num}-name`).val(entry.members[i].name);\n      $(`#member${num}-character`).val(entry.members[i].character);\n      $(`#member${num}-comment`).val(entry.members[i].comment);\n      $(`#member${num}-region`).val(entry.members[i].region);\n      $(`#member${num}-env`).val(entry.members[i].env);\n      $(`#member${num}-history`).val(entry.members[i].history);\n      let after = entry.members[i].after;\n      if (after) {\n        if (after == 1) {\n          $(`#member${num}-join-ok`).prop('checked', true);\n        } else {\n          $(`#member${num}-join-ng`).prop('checked', true);\n        }\n      }\n    }\n\n    if (entry.name && entry.name.length !== 0) {\n      $('#type-team').prop('checked', true).trigger('change');\n      $('#teamName').val(entry.name);\n    } else {\n      $('#type-single').prop('checked', true).trigger('change');\n    }\n  }\n\n  function addOption(selector, label, value, reverse) {\n    if (reverse) {\n      $(selector).prepend($('<option/>').text(label).val(value));\n    } else {\n      $(selector).append($('<option/>').text(label).val(value));\n    }\n  }\n\n  function removeOption(selector, value) {\n    $(selector).find('option').each(function(i, option) {\n      if (option.value === value) {\n        $(option).remove();\n        return;\n      }\n    });\n  }\n  function changeOptionLabel(selector, label, value) {\n    $(selector).find('option').each(function(i, option) {\n      if (option.value === value) {\n        $(option).text(label);\n        return;\n      }\n    });\n  }\n\n  function showMessage(type, message, fadeOut) {\n    $('#message').empty();\n    // if (typeof fadeOut === 'undefined') {\n    //   fadeOut = false;\n    // }\n    $('#message')[0].className = '';\n    $('#message').text(message).addClass('alert alert-' + type).show();\n    // if (fadeOut) {\n    //   setTimeout(function(){\n    //     $('#message').fadeOut(1000);\n    //   }, 3000);\n    // }\n  }\n\n  function showMessage2(type, message, fadeOut) {\n    $('#message2').empty();\n    // if (typeof fadeOut === 'undefined') {\n    //   fadeOut = false;\n    // }\n    $('#message2')[0].className = '';\n    $('#message2').text(message).addClass('alert alert-' + type).show();\n    // if (fadeOut) {\n    //   setTimeout(function(){\n    //     $('#message2').fadeOut(1000);\n    //   }, 3000);\n    // }\n  }\n\n  function comfirmDelete(handle) {\n    $('#message').empty();\n    var div = $('<div/>');\n    var span = $('<span/>').text('エントリーを削除します。よろしいですか？');\n    var button = $('<a href=\"#\"/>').addClass('btn btn-danger btn-sm').text('はい').on('click', handle);\n    var cancel = $('<a href=\"#\"/>').addClass('btn btn-default btn-sm').text('いいえ').on('click', function(e){\n      e.preventDefault();\n      $('#message').hide();\n    });\n    div.append(span);\n    div.append(button);\n    div.append(cancel);\n    $('#message')[0].className = '';\n    $('#message').append(div).addClass('alert alert-danger').show();\n  }\n\n  function scrollTo(selector, adjust) {\n    $(\"html,body\").animate({scrollTop:$(selector).eq(0).offset().top + adjust});\n  }\n\n  $('.to-edit-form').on('click', function(e) {\n    e.preventDefault();\n    $('#team-entry').addClass('edit').modal();\n  });\n  $('.to-entry-form').on('click', function(e) {\n    e.preventDefault();\n    $('#team-entry').removeClass('edit').modal();\n  });\n  $(document).on('click', '.edit-link', function(e) {\n    e.preventDefault();\n    $('#target').val($(this).data('id'));\n    $('#team-entry').addClass('edit').modal();\n  });\n  $('#team-entry').on('shown.bs.modal', function (e) {\n    if ($('#team-entry').hasClass('edit')) {\n      if ($('#target').prop('selectedIndex') !== 0) {\n        $('#input-pass').focus();\n      } else {\n        $('#target').focus();\n      }\n    }\n  });\n  $('#team-entry').on('hidden.bs.modal', function(e) {\n    $('#entry-form-title').text('エントリー');\n    $('#entry-button')[0].style.cssText = '';\n    $('.entry-explain')[0].style.cssText = '';\n    $('#edit-button')[0].style.cssText = '';\n    $('#delete-button')[0].style.cssText = '';\n    $('.pass .badge')[0].style.cssText = '';\n    $('#pass').addClass('require').prop('placeholder', '');\n    $('.team-entry-form')[0].reset();\n    $('.team-entry-form > .form-group')[0].style.cssText = '';\n    $('.edit-form')[0].reset();\n    changeForm();\n    enableActionButtons(true);\n    hideMessages();\n\n    if (lastModifyEntryKey) {\n      var selector = '#' + lastModifyEntryKey;\n      scrollTo(selector, -100);\n      $(selector).addClass('done');\n      setTimeout(function() {\n        $(selector).addClass('animate');\n      }, 100);\n      lastModifyEntryKey = '';\n    }\n  });\n  $('.change-edit-form').on('click', function(e) {\n    e.preventDefault();\n    $('#team-entry').addClass('edit');\n    hideMessages();\n  });\n\n  // modalが表示された時\n  $(\".modal\").on(\"shown.bs.modal\", function() {\n    var urlReplace = \"#\" + $(this).attr('id')\n    history.pushState(null, null, urlReplace)\n  });\n\n  // modalの閉じる機能が動作した時\n  $(\".modal\").on(\"hidden.bs.modal\", function () {\n    if(location.hash == \"#\" + $(this).attr('id')) {\n      history.back()\n    }\n  });\n\n  function teamUpdated(team) {\n    $('.team-entry-count').text(teams.length);\n    updateTotalCount();\n    if (team) {\n      if (team.updatedAt) {\n        $('.team-last-updated-at').text(getDateString(team.updatedAt));\n      }\n    } else {\n      $('.team-last-updated-at').text(getDateString());\n    }\n    analytics();\n  }\n  function singleUpdated(single) {\n    $('.single-entry-count').text(singles.length);\n    updateTotalCount();\n    if (single) {\n      if (single.updatedAt) {\n        $('.single-last-updated-at').text(getDateString(single.updatedAt));\n      }\n    } else {\n      $('.single-last-updated-at').text(getDateString());\n    }\n    analytics();\n  }\n  var upCountTask;\n  function updateTotalCount() {\n    let totalCount = 0;\n    teams.forEach(team => {\n      team.members.forEach(member => {\n        if (member.name) {\n          totalCount++;\n        }\n      });\n    });\n    singles.forEach(team => {\n      team.members.forEach(member => {\n        if (member.name) {\n          totalCount++;\n        }\n      });\n    });\n    $('.total-count').text(totalCount);\n\n    if (upCountTask) {\n      clearTimeout(upCountTask);\n    }\n    upCountTask = setTimeout(function() {\n      var afterCount = 0;\n      for (var key in entries) {\n        var entry = entries[key];\n        for (var i = 0, len = entry.members.length; i < len; i++) {\n          var member = entry.members[i];\n          if (member.after == 1) {\n            afterCount++;\n          }\n        }\n      }\n      $('.after-count').text(afterCount);\n    }, 1000);\n  }\n\n  $('#clear-btn-2').click(function(e) {\n    e.preventDefault();\n    clearFormPlayer(2);\n  });\n  $('#clear-btn-3').click(function(e) {\n    e.preventDefault();\n    clearFormPlayer(3);\n  })\n\n  function clearFormPlayer(num) {\n    if (!num) {\n      return;\n    }\n    $('#member' + num + '-name').val('');\n    $('#member' + num + '-character')[0].selectedIndex = 0;\n    $('#member' + num + '-comment').val('');\n    $('#member' + num + '-region')[0].selectedIndex = 0;\n    $('#member' + num + '-env')[0].selectedIndex = 0;\n    $('#member' + num + '-history').val('');\n    $('#member' + num + '-join-ok').prop('checked', false);\n    $('#member' + num + '-join-ng').prop('checked', false);\n  }\n\n  var task;\n  function analytics() {\n    if (task) {\n      clearTimeout(task);\n    }\n    task = setTimeout(function() {\n      var pCharas = $.extend(true, {}, charas);\n      for (var key in entries) {\n        var entry = entries[key];\n        for (var i = 0, len = entry.members.length; i < len; i++) {\n          if (pCharas[entry.members[i].character]) {\n            pCharas[entry.members[i].character].count++;\n          }\n        }\n      }\n      var pCharasArray = sortByCount(objectToArray(pCharas));\n      displayCharaCount(pCharasArray, '#character-count');\n\n      // 都道府県別集計\n      var regionCount = [];\n      for (var key in entries) {\n        var entry = entries[key];\n        for (var i = 0, len = entry.members.length; i < len; i++) {\n          if (entry.members[i].region !== '選択してください') {\n            var region = parseInt(entry.members[i].region, 10);\n            if (!regionCount[region]) {\n              regionCount[region] = 0;\n            }\n            regionCount[region]++;\n          }\n        }\n      }\n\n      var regionData = [];\n      for (var i = 0, len = regionCount.length; i < len; i++) {\n        if (regionCount[i] !== undefined) {\n          regionData.push({\n            name: REGIONS[i-1],\n            count: regionCount[i]\n          });\n        }\n      }\n      regionData.sort(function(a,b){\n        if(a.count < b.count) return 1;\n        if(a.count > b.count) return -1;\n        return 0;\n      });\n\n      $('#region-count').empty();\n      for (var i = 0, len = regionData.length; i < len; i++) {\n        $('#template-region-count').tmpl(regionData[i]).appendTo('#region-count');\n      }\n\n    }, 1000);\n  }\n  function objectToArray(object) {\n    var array = [];\n    for (var key in object) {\n      array.push(object[key]);\n    }\n    return array;\n  }\n  function sortByCount(array) {\n    return array.sort(function(a,b){\n        if(a.count < b.count) return -1;\n        if(a.count > b.count) return 1;\n        return 0;\n    });\n  }\n  function displayCharaCount(array, selecter, totalSelecter) {\n    $(selecter).empty();\n    var totalCount = 0;\n    for (var i = (array.length-1); i >= 0; i--) {\n      var chara = array[i];\n      $('#character-count-template').tmpl(chara).appendTo(selecter);\n      totalCount += chara.count;\n    }\n    if (totalSelecter) {\n      $(totalSelecter).text(totalCount);\n    }\n  }\n\n  function getDateString(date) {\n    if (date === undefined) {\n      date = new Date();\n    } else if (typeof date === 'string' && date.length !== 0) {\n      date = new Date(date);\n    }\n    if (date) {\n      return date.getFullYear() + '/' +\n             padLeft(date.getMonth() + 1) + '/' +\n             padLeft(date.getDate()) + ' ' +\n             padLeft(date.getHours()) + ':' +\n             padLeft(date.getMinutes()) + ':' +\n             padLeft(date.getSeconds());\n    } else {\n      return '';\n    }\n  }\n  function padLeft(str, len, pad) {\n    if (pad === undefined) {\n      pad = '0';\n    }\n    if (len === undefined) {\n      len = 2;\n    }\n    var buf = ''\n    for (var i = 0; i < len; i++) {\n      buf += pad;\n    }\n    str = pad + str;\n    return str.slice(-len);\n  }\n\n  const charaBlank = {\n    name: '',\n    image: 'blank.png'\n  };\n\n  function toTemplateFormat(data, len) {\n    if (!len) {\n      len = 3;\n    }\n    for (let i = 0; i < len; i++) {\n      let member = data.members[i];\n      if (!member) {\n        member = {};\n      }\n      member.name = member.name || '';\n      member.comment = member.comment || '';\n      let character = charas[member.character];\n      if (!character) {\n        character = charaBlank;\n      }\n      member.charaName = character.name;\n      member.charaIcon = character.image;\n      data.members[i] = member;\n    }\n    return data;\n  }\n\n  analytics();\n});\n\nconsole.log('%c　　　　　　　　　　　　　　　　＼　│　／', 'font-family: ＭＳ Ｐゴシック');\nconsole.log('%c　　　　　　　　　　　　　　　　　／￣＼　　 ／￣￣￣￣￣￣￣￣￣', 'font-family: ＭＳ Ｐゴシック');\nconsole.log('%c　　　　　　　　　　　　　　　─（ ﾟ ∀ ﾟ ）＜　さいたまさいたま！', 'font-family: ＭＳ Ｐゴシック');\nconsole.log('%c　　　　　　　　　　　　　　　　　＼＿／　　 ＼＿＿＿＿＿＿＿＿＿', 'font-family: ＭＳ Ｐゴシック');\nconsole.log('%c　　　　　　　　　　　　　　　　／　│　＼', 'font-family: ＭＳ Ｐゴシック');\nconsole.log('%c　　　　　　　　　　　　　　　　　　　 ∩ ∧　∧　　／￣￣￣￣￣￣￣￣￣￣', 'font-family: ＭＳ Ｐゴシック');\nconsole.log('%c￣￣￣￣￣￣￣￣＼　　∩ ∧　∧　　　　＼（ ﾟ∀ﾟ）＜　さいたまさいたまさいたま！', 'font-family: ＭＳ Ｐゴシック');\nconsole.log('%cさいたま～～～！ 　 ＞（ ﾟ∀ﾟ ）/ 　　　｜　　　/ 　＼＿＿＿＿＿＿＿＿＿＿', 'font-family: ＭＳ Ｐゴシック');\nconsole.log('%c＿＿＿＿＿＿＿＿／ 　｜　　 〈　　　　｜　　｜　', 'font-family: ＭＳ Ｐゴシック');\nconsole.log('%c　　　　　　　　　　 /　／＼_」　　　/　／＼」', 'font-family: ＭＳ Ｐゴシック');\nconsole.log('%c　　　　　　　　　　 ￣　　　　　　 / ／', 'font-family: ＭＳ Ｐゴシック');\nconsole.log('バグを見つけたら @yoshikawa_t まで');\n"],"file":"print-entry.js"}