{"version":3,"sources":["entry.js"],"names":[],"mappings":"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","file":"entry.js","sourcesContent":["$(function(){\n  var REGIONS = ['北海道','青森県','岩手県','宮城県','秋田県',\n  '山形県','福島県','茨城県','栃木県','群馬県','埼玉県','千葉県',\n  '東京都','神奈川県','新潟県','富山県','石川県','福井県','山梨県',\n  '長野県','岐阜県','静岡県','愛知県','三重県','滋賀県','京都府',\n  '大阪府','兵庫県','奈良県','和歌山県','鳥取県','島根県','岡山県',\n  '広島県','山口県','徳島県','香川県','愛媛県','高知県','福岡県',\n  '佐賀県','長崎県','熊本県','大分県','宮崎県','鹿児島県','沖縄県'\n  ];\n\n  var CHARACTERS = [\n    {\n      id: 'anakaris',\n      name: 'アナカリス',\n      image: 'img_s_anakaris_50x50.jpg'\n    }, {\n      id: 'aulbath',\n      name: 'オルバス',\n      image: 'img_s_aulbath_50x50.jpg'\n    }, {\n      id: 'bishamon',\n      name: 'ビシャモン',\n      image: 'img_s_bishamon_50x50.jpg'\n    }, {\n      id: 'bulleta',\n      name: 'バレッタ',\n      image: 'img_s_bulleta_50x50.jpg'\n    }, {\n      id: 'demitri',\n      name: 'デミトリ',\n      image: 'img_s_demitri_50x50.jpg'\n    }, {\n      id: 'felicia',\n      name: 'フェリシア',\n      image: 'img_s_felicia_50x50.jpg'\n    }, {\n      id: 'gallon',\n      name: 'ガロン',\n      image: 'img_s_gallon_50x50.jpg'\n    }, {\n      id: 'jedah',\n      name: 'ジェダ',\n      image: 'img_s_jedah_50x50.jpg'\n    }, {\n      id: 'leilei',\n      name: 'レイレイ',\n      image: 'img_s_leilei_50x50.jpg'\n    }, {\n      id: 'lilith',\n      name: 'リリス',\n      image: 'img_s_lilith_50x50.jpg'\n    }, {\n      id: 'morrigan',\n      name: 'モリガン',\n      image: 'img_s_morrigan_50x50.jpg'\n    }, {\n      id: 'qbee',\n      name: 'キュービー',\n      image: 'img_s_qbee_50x50.jpg'\n    }, {\n      id: 'sasquatch',\n      name: 'サスカッチ',\n      image: 'img_s_sasquatch_50x50.jpg'\n    }, {\n      id: 'victor',\n      name: 'ビクトル',\n      image: 'img_s_victor_50x50.jpg'\n    }, {\n      id: 'zabel',\n      name: 'ザベル',\n      image: 'img_s_zabel_50x50.jpg'\n    }\n  ];\n\n  // ハッシュ作成\n  var charas = {}\n  for (var i = 0, len = CHARACTERS.length; i < len; i++) {\n    var chara = CHARACTERS[i];\n    charas[chara.id] = {\n      name: chara.name,\n      image: chara.image,\n      count: 0\n    };\n  }\n\n  // 使用キャラ選択の作成\n  var optionsHTML = '';\n  for (var i = 0, len = CHARACTERS.length; i < len; i++) {\n    var character = CHARACTERS[i];\n    optionsHTML +=\n      '<option value=\"' + character.id + '\">' + character.name + '</option>';\n  }\n  var $options = $(optionsHTML);\n  $('select.characters').each(function(i, select) {\n    $(select).append($options.clone());\n  });\n\n  // 都道府県選択の作成\n  var regionOptionsHTML = '';\n  for (var i = 0, len = REGIONS.length; i < len; i++) {\n    var region = REGIONS[i];\n    regionOptionsHTML +=\n      '<option value=\"' + (i+1) + '\">' + region + '</option>';\n  }\n  var $regionOptions = $(regionOptionsHTML);\n  $('select.regions').each(function(i, select) {\n    $(select).append($regionOptions.clone());\n  });\n\n  // フォーム切替\n  $('input[name=entry-type]').on('change', function() {\n    if ($('#type-single').prop('checked')) {\n      changeForm('single');\n    } else {\n      changeForm('team');\n    }\n  });\n\n  var lastModifyEntryKey = '';\n\n  // firebase\n  var database = firebase.database();\n  var ref = database.ref('data');\n  var teamsRef = ref.child('teams');\n  var singlesRef = ref.child('singles');\n  var entries = {};\n\n  // 設定\n  var configRef = ref.child('config');\n  var config;\n  configRef.child('open');\n  configRef.once('value', function(snapshot) {\n    config = snapshot.val();\n    if (!config) {\n      config = {\n        open: true,\n        adminPass: 'e421b0ade1927b91fa41bfa2baf72eb5'\n      }\n      configRef.set(config);\n    }\n    configUpdated(config);\n    configRef.on('value', function(snapshot) {\n      config = snapshot.val();\n      configUpdated(config);\n    });\n  });\n\n  function configUpdated(config) {\n    if (config.open) {\n      $('.entry-action').show();\n    } else {\n      $('.entry-action').hide();\n    }\n  }\n\n  // 追加\n  var teamNo = 0;\n  var teams = [];\n  teamsRef.on('child_added', function(snapshot) {\n    var team = snapshot.val();\n    var key = snapshot.key;\n    team.no = ++teamNo;\n    team.key = key;\n    switch (team.members.length) {\n      case 3:\n        $('#template-team3').tmpl(toTemplateFormat(team, 3)).fadeIn(1000).prependTo('#teams');\n        break;\n      case 2:\n        $('#template-team2').tmpl(toTemplateFormat(team, 2)).fadeIn(1000).prependTo('#teams');\n        break;\n      case 1:\n        $('#template-team1').tmpl(toTemplateFormat(team, 1)).fadeIn(1000).prependTo('#teams');\n        break;\n      default:\n    }\n\n    entries[key] = team;\n    addOption('#target-team', team.name, key, true);\n    teams.push(team);\n    teamUpdated(team);\n  });\n  var singles = [];\n  singlesRef.on('child_added', function(snapshot) {\n    var single = snapshot.val();\n    var key = snapshot.key;\n    single.key = key;\n    $('#template-single').tmpl(toTemplateFormat(single, 1)).fadeIn(1000).prependTo('#singles');\n    entries[key] = single;\n    addOption('#target-single', single.members[0].name, key, true);\n    singles.push(single);\n    singleUpdated(single);\n  });\n\n  // 削除\n  teamsRef.on('child_removed', function(snapshot) {\n    var key = snapshot.key;\n    $('#' + key).remove();\n    removeOption('#target-team', key);\n    delete entries[key];\n    for (var i = 0, len = teams.length; i < len; i++) {\n      if (teams[i].key === key) {\n        teams.splice(i, 1);\n        break;\n      }\n    }\n    teamUpdated();\n  });\n  singlesRef.on('child_removed', function(snapshot) {\n    var key = snapshot.key;\n    $('#' + key).remove();\n    removeOption('#target-single', key);\n    delete entries[key];\n    for (var i = 0, len = singles.length; i < len; i++) {\n      if (singles[i].key === key) {\n        singles.splice(i, 1);\n        break;\n      }\n    }\n    singleUpdated();\n  });\n\n  // 変更\n  teamsRef.on('child_changed', function(snapshot, old) {\n    var team = snapshot.val();\n    var key = snapshot.key;\n    team.no = entries[key].no;\n    team.key = key;\n\n    switch (team.members.length) {\n      case 3:\n        $('#' + key).replaceWith($('#template-team3').tmpl(toTemplateFormat(team, 3)).fadeIn(1000));\n        break;\n      case 2:\n        $('#' + key).replaceWith($('#template-team2').tmpl(toTemplateFormat(team, 2)).fadeIn(1000));\n        break;\n      case 1:\n        $('#' + key).replaceWith($('#template-team1').tmpl(toTemplateFormat(team, 1)).fadeIn(1000));\n        break;\n      default:\n    }\n\n    \n    entries[key] = team;\n    changeOptionLabel('#target-team', team.name, key);\n    for (var i = 0, len = teams.length; i < len; i++) {\n      if (teams[i].key === key) {\n        teams[i] = team;\n        break;\n      }\n    }\n    teamUpdated(team);\n  });\n  singlesRef.on('child_changed', function(snapshot, old) {\n    var single = snapshot.val();\n    var key = snapshot.key;\n    single.key = key;\n    $('#' + key).replaceWith($('#template-single').tmpl(toTemplateFormat(single, 1)).fadeIn(1000));\n    entries[key] = single;\n    changeOptionLabel('#target-single', single.members[0].name, key);\n    for (var i = 0, len = singles.length; i < len; i++) {\n      if (singles[i].key === key) {\n        singles[i] = single;\n        break;\n      }\n    }\n    singleUpdated(single);\n  });\n\n\n  // エントリー（保存）\n  $('#entry-button').on('click', function(e) {\n    e.preventDefault();\n    $('#edit-form').collapse('hide');\n    enableActionButtons(false);\n    hideMessages();\n\n    // validate\n    var isMediation = $('#type-single').prop('checked');\n    if (!validate(isMediation)) {\n      enableActionButtons(true);\n      return false;\n    }\n    var data = getFormData();\n    var dataRef;\n    if (isMediation) {\n      dataRef = singlesRef.push(data, onComplete);\n    } else {\n      dataRef = teamsRef.push(data, onComplete);\n    }\n\n    function onComplete() {\n      $('#type-team').trigger('change');\n      showMessage('success', 'エントリーが完了しました', true);\n      $('.team-entry-form > .form-group').hide();\n      setTimeout(function(){\n        $('#team-entry').modal('hide');\n      }, 1500);\n      lastModifyEntryKey = dataRef.key;\n    }\n  });\n\n  // 編集・削除の入力\n  $('#input-button').on('click', function(e){\n    e.preventDefault();\n    hideMessages();\n\n    if ($('#target').prop('selectedIndex') === 0) {\n      showMessage2('danger', '対象のエントリーを選択してください');\n      return false;\n    }\n    if ($('#input-pass').val().length === 0) {\n      showMessage2('danger', 'パスワードを入力してください');\n      return false;\n    }\n\n    var key = $('#target').val();\n    var password = md5($('#input-pass').val());\n    var entry = entries[key];\n    if (entry.password === password || config.adminPass === password) {\n      // エントリー情報セット\n      setFormData(entry, key);\n      $('#message').hide();\n      $('#entry-button').hide();\n      $('#edit-button').show();\n      $('#delete-button').show();\n      $('#entry-form-title').text('エントリーの編集・削除');\n      $('.entry-explain').hide();\n      $('.pass .badge').hide();\n      $('#pass').removeClass('require').prop('placeholder', 'パスワードを変更する');\n      $('#team-entry').removeClass('edit');\n      hideMessages();\n    } else {\n      showMessage2('danger', 'パスワードが違います');\n      return false;\n    }\n  });\n\n  // 編集する\n  $('#edit-button').on('click', function(e) {\n    e.preventDefault();\n\n    enableActionButtons(false);\n    hideMessages();\n\n    // validate\n    var key = $('#key').val();\n    if (key.length === 0) {\n      showMessage('danger', 'エラーが発生しました。もう一度最初からやり直してください');\n      enableActionButtons(true);\n      return false;\n    }\n    var isMediation = $('#type-single').prop('checked');\n    if (!validate(isMediation, true)) {\n      enableActionButtons(true);\n      return false;\n    }\n\n\n    var data = getFormData();\n    var dataRef;\n\n    // パスワードの入力がなければ旧パスワードのまま\n    var pass = $('#pass').val();\n    if (pass.length !== 0) {\n      data.password = md5(pass);\n    } else {\n      data.password = entries[key].password;\n    }\n    var dataRef;\n    if (!entries[key].name && !isMediation) {\n      // 斡旋からチームエントリー\n      dataRef = singlesRef.child(key);\n      dataRef.set(null);\n      dataRef = teamsRef.push(data, onComplete);\n    } else if (entries[key].name && isMediation) {\n      // チームエントリーから斡旋\n      dataRef = teamsRef.child(key);\n      dataRef.set(null);\n      dataRef = singlesRef.push(data, onComplete);\n    } else if (isMediation) {\n      // 斡旋から斡旋\n      dataRef = singlesRef.child(key);\n      dataRef.set(data, onComplete);\n    } else {\n      // チームエントリーからチームエントリー\n      dataRef = teamsRef.child(key);\n      dataRef.set(data, onComplete);\n    }\n    function onComplete() {\n      showMessage('success', '編集が完了しました', true);\n      $('.team-entry-form > .form-group').hide();\n      setTimeout(function(){\n        $('#team-entry').modal('hide');\n      }, 1500);\n      lastModifyEntryKey = dataRef.key;\n    }\n  });\n\n  // 削除する\n  $('#delete-button').on('click', function(e) {\n    e.preventDefault();\n\n    enableActionButtons(false);\n    // validate\n    var key = $('#key').val();\n    if (key.length === 0) {\n      showMessage('danger', 'エラーが発生しました。もう一度最初からやり直してください');\n      enableActionButtons(true);\n      return false;\n    }\n    comfirmDelete(function(e){\n      e.preventDefault();\n      var isMediation = $('#type-single').prop('checked');\n      var dataRef;\n      if (isMediation) {\n        dataRef = singlesRef.child(key);\n        dataRef.set(null, onComplete);\n      } else {\n        dataRef = teamsRef.child(key);\n        dataRef.set(null, onComplete);\n      }\n    });\n\n    function onComplete() {\n      showMessage('success', '削除が完了しました', true);\n      $('.team-entry-form > .form-group').hide();\n      setTimeout(function(){\n        $('#team-entry').modal('hide');\n      }, 1500);\n    }\n  });\n\n  // スムーズスクロール\n  $('.anchor-button').on('click', function(e) {\n    e.preventDefault();\n    var href = '#' + this.href.replace(/.*#/, '');\n    scrollTo(href, -70);\n  });\n\n  function hideMessages() {\n    $('#message').hide();\n    $('#message2').hide();\n  }\n\n  function changeForm(type) {\n    if (type === 'single') {\n      $('#member1').show();\n      $('#member1 > legend').hide();\n      $('#member2').hide();\n      $('#member3').hide();\n      $('#team-name').hide();\n      $('.pass').show();\n    } else {\n      $('#member1').show();\n      $('#member1 > legend').show();\n      $('#member2').show();\n      $('#member3').show();\n      $('#team-name').show();\n      $('.pass').show();\n    }\n  }\n\n  function enableActionButtons(enabled) {\n    $('#entry-button').prop('disabled', !enabled);\n    $('#edit-button').prop('disabled', !enabled);\n    $('#delete-button').prop('disabled', !enabled);\n    $('#cancel-button').prop('disabled', !enabled);\n  }\n\n  function validate(isMediation, isEdit) {\n    if (typeof isEdit == 'undefined') {\n      isEdit = false\n    }\n    if (!isMediation) {\n      if ($('#teamName').val().length === 0) {\n        showMessage('danger', 'チーム名を入力してください');\n        return false;\n      }\n    }\n    if ($('#member1-name').val().length === 0) {\n      showMessage('danger', '1人目のプレイヤー名を入力してください');\n      return false;\n    }\n    if ($('#member1-character').prop('selectedIndex') === 0) {\n      showMessage('danger', '1人目の使用キャラを選択してください');\n      return false;\n    }\n    if (!isMediation) {\n      for (let i = 1; i < 3; i++) {\n        let num = i + 1;\n          if ( $(`#member${num}-name`).val() ||\n            $(`#member${num}-character`).prop('selectedIndex') !== 0 ||\n            $(`#member${num}-comment`).val() ||\n            $(`#member${num}-region`).prop('selectedIndex') !== 0 ||\n            $(`#member${num}-env`).prop('selectedIndex') !== 0 ||\n            $(`#member${num}-history`).val() ||\n            $(`#member${num}-join-ok`).prop('checked') ||\n            $(`#member${num}-join-ng`).prop('checked')\n          ) {\n            if ($(`#member${num}-name`).val().length === 0) {\n              showMessage('danger', `${num}人目のプレイヤー名を入力してください`);\n              return false;\n            }\n            if ($(`#member${num}-character`).prop('selectedIndex') === 0) {\n              showMessage('danger', `${num}人目の使用キャラを選択してください`);\n              return false;\n            }\n          }\n      }\n    }\n    // if (!isMediation) {\n    //   if ($('#member2-name').val().length === 0) {\n    //     showMessage('danger', '2人目のプレイヤー名を入力してください');\n    //     return false;\n    //   }\n    //   if ($('#member2-character').prop('selectedIndex') === 0) {\n    //     showMessage('danger', '2人目の使用キャラを選択してください');\n    //     return false;\n    //   }\n    //   if ($('#member3-name').val().length === 0) {\n    //     showMessage('danger', '3人目のプレイヤー名を入力してください');\n    //     return false;\n    //   }\n    //   if ($('#member3-character').prop('selectedIndex') === 0) {\n    //     showMessage('danger', '3人目の使用キャラを選択してください');\n    //     return false;\n    //   }\n    // }\n    if (!isEdit && $('#pass').val().length === 0) {\n      showMessage('danger', '削除・編集用のパスワードを入力してください');\n      return false;\n    }\n    return true;\n  }\n\n  function getFormData() {\n    // must inputs\n    var data = {\n      updatedAt: new Date().toString(),\n      password: md5($('#pass').val()),\n      members: []\n    }\n\n    for (let i = 0; i < 3; i++) {\n      let num = i + 1;\n      if ($(`#member${num}-name`).val()) {\n        data.members.push({\n          name: $(`#member${num}-name`).val(),\n          character: $(`#member${num}-character`).val(),\n          comment: $(`#member${num}-comment`).val().replace(/[\\n\\r]/g, ''),\n          region: $(`#member${num}-region`).val(),\n          env: $(`#member${num}-env`).val() || '',\n          history: $(`#member${num}-history`).val() || '',\n          after: $(`input[name=member${num}-after]:checked`).val() || ''\n        });\n      }\n    }\n\n    if ($('#type-team').prop('checked')) {\n      // チーム名\n      data.name = $('#teamName').val();\n    }\n    return data;\n  }\n\n  function setFormData(entry, key) {\n    $('#key').val(key || '');\n\n    for (let i = 0; i < entry.members.length; i++) {\n      let num = i + 1;\n      $(`#member${num}-name`).val(entry.members[i].name);\n      $(`#member${num}-character`).val(entry.members[i].character);\n      $(`#member${num}-comment`).val(entry.members[i].comment);\n      $(`#member${num}-region`).val(entry.members[i].region);\n      $(`#member${num}-env`).val(entry.members[i].env);\n      $(`#member${num}-history`).val(entry.members[i].history);\n      let after = entry.members[i].after;\n      if (after) {\n        if (after == 1) {\n          $(`#member${num}-join-ok`).prop('checked', true);\n        } else {\n          $(`#member${num}-join-ng`).prop('checked', true);\n        }\n      }\n    }\n\n    if (entry.name && entry.name.length !== 0) {\n      $('#type-team').prop('checked', true).trigger('change');\n      $('#teamName').val(entry.name);\n    } else {\n      $('#type-single').prop('checked', true).trigger('change');\n    }\n  }\n\n  function addOption(selector, label, value, reverse) {\n    if (reverse) {\n      $(selector).prepend($('<option/>').text(label).val(value));\n    } else {\n      $(selector).append($('<option/>').text(label).val(value));\n    }\n  }\n\n  function removeOption(selector, value) {\n    $(selector).find('option').each(function(i, option) {\n      if (option.value === value) {\n        $(option).remove();\n        return;\n      }\n    });\n  }\n  function changeOptionLabel(selector, label, value) {\n    $(selector).find('option').each(function(i, option) {\n      if (option.value === value) {\n        $(option).text(label);\n        return;\n      }\n    });\n  }\n\n  function showMessage(type, message, fadeOut) {\n    $('#message').empty();\n    // if (typeof fadeOut === 'undefined') {\n    //   fadeOut = false;\n    // }\n    $('#message')[0].className = '';\n    $('#message').text(message).addClass('alert alert-' + type).show();\n    // if (fadeOut) {\n    //   setTimeout(function(){\n    //     $('#message').fadeOut(1000);\n    //   }, 3000);\n    // }\n  }\n\n  function showMessage2(type, message, fadeOut) {\n    $('#message2').empty();\n    // if (typeof fadeOut === 'undefined') {\n    //   fadeOut = false;\n    // }\n    $('#message2')[0].className = '';\n    $('#message2').text(message).addClass('alert alert-' + type).show();\n    // if (fadeOut) {\n    //   setTimeout(function(){\n    //     $('#message2').fadeOut(1000);\n    //   }, 3000);\n    // }\n  }\n\n  function comfirmDelete(handle) {\n    $('#message').empty();\n    var div = $('<div/>');\n    var span = $('<span/>').text('エントリーを削除します。よろしいですか？');\n    var button = $('<a href=\"#\"/>').addClass('btn btn-danger btn-sm').text('はい').on('click', handle);\n    var cancel = $('<a href=\"#\"/>').addClass('btn btn-default btn-sm').text('いいえ').on('click', function(e){\n      e.preventDefault();\n      $('#message').hide();\n    });\n    div.append(span);\n    div.append(button);\n    div.append(cancel);\n    $('#message')[0].className = '';\n    $('#message').append(div).addClass('alert alert-danger').show();\n  }\n\n  function scrollTo(selector, adjust) {\n    $(\"html,body\").animate({scrollTop:$(selector).eq(0).offset().top + adjust});\n  }\n\n  $('.to-edit-form').on('click', function(e) {\n    e.preventDefault();\n    $('#team-entry').addClass('edit').modal();\n  });\n  $('.to-entry-form').on('click', function(e) {\n    e.preventDefault();\n    $('#team-entry').removeClass('edit').modal();\n  });\n  $(document).on('click', '.edit-link', function(e) {\n    e.preventDefault();\n    $('#target').val($(this).data('id'));\n    $('#team-entry').addClass('edit').modal();\n  });\n  $('#team-entry').on('shown.bs.modal', function (e) {\n    if ($('#team-entry').hasClass('edit')) {\n      if ($('#target').prop('selectedIndex') !== 0) {\n        $('#input-pass').focus();\n      } else {\n        $('#target').focus();\n      }\n    }\n  });\n  $('#team-entry').on('hidden.bs.modal', function(e) {\n    $('#entry-form-title').text('エントリー');\n    $('#entry-button')[0].style.cssText = '';\n    $('.entry-explain')[0].style.cssText = '';\n    $('#edit-button')[0].style.cssText = '';\n    $('#delete-button')[0].style.cssText = '';\n    $('.pass .badge')[0].style.cssText = '';\n    $('#pass').addClass('require').prop('placeholder', '');\n    $('.team-entry-form')[0].reset();\n    $('.team-entry-form > .form-group')[0].style.cssText = '';\n    $('.edit-form')[0].reset();\n    changeForm();\n    enableActionButtons(true);\n    hideMessages();\n\n    if (lastModifyEntryKey) {\n      var selector = '#' + lastModifyEntryKey;\n      scrollTo(selector, -100);\n      $(selector).addClass('done');\n      setTimeout(function() {\n        $(selector).addClass('animate');\n      }, 100);\n      lastModifyEntryKey = '';\n    }\n  });\n  $('.change-edit-form').on('click', function(e) {\n    e.preventDefault();\n    $('#team-entry').addClass('edit');\n    hideMessages();\n  });\n\n  // modalが表示された時\n  $(\".modal\").on(\"shown.bs.modal\", function() {\n    var urlReplace = \"#\" + $(this).attr('id')\n    history.pushState(null, null, urlReplace)\n  });\n\n  // modalの閉じる機能が動作した時\n  $(\".modal\").on(\"hidden.bs.modal\", function () {\n    if(location.hash == \"#\" + $(this).attr('id')) {\n      history.back()\n    }\n  });\n\n  function teamUpdated(team) {\n    $('.team-entry-count').text(teams.length);\n    updateTotalCount();\n    if (team) {\n      if (team.updatedAt) {\n        $('.team-last-updated-at').text(getDateString(team.updatedAt));\n      }\n    } else {\n      $('.team-last-updated-at').text(getDateString());\n    }\n    analytics();\n  }\n  function singleUpdated(single) {\n    $('.single-entry-count').text(singles.length);\n    updateTotalCount();\n    if (single) {\n      if (single.updatedAt) {\n        $('.single-last-updated-at').text(getDateString(single.updatedAt));\n      }\n    } else {\n      $('.single-last-updated-at').text(getDateString());\n    }\n    analytics();\n  }\n  var upCountTask;\n  function updateTotalCount() {\n    let totalCount = 0;\n    teams.forEach(team => {\n      team.members.forEach(member => {\n        if (member.name) {\n          totalCount++;\n        }\n      });\n    });\n    singles.forEach(team => {\n      team.members.forEach(member => {\n        if (member.name) {\n          totalCount++;\n        }\n      });\n    });\n    $('.total-count').text(totalCount);\n\n    if (upCountTask) {\n      clearTimeout(upCountTask);\n    }\n    upCountTask = setTimeout(function() {\n      var afterCount = 0;\n      for (var key in entries) {\n        var entry = entries[key];\n        for (var i = 0, len = entry.members.length; i < len; i++) {\n          var member = entry.members[i];\n          if (member.after == 1) {\n            afterCount++;\n          }\n        }\n      }\n      $('.after-count').text(afterCount);\n    }, 1000);\n  }\n\n  var task;\n  function analytics() {\n    if (task) {\n      clearTimeout(task);\n    }\n    task = setTimeout(function() {\n      var pCharas = $.extend(true, {}, charas);\n      for (var key in entries) {\n        var entry = entries[key];\n        for (var i = 0, len = entry.members.length; i < len; i++) {\n          if (pCharas[entry.members[i].character]) {\n            pCharas[entry.members[i].character].count++;\n          }\n        }\n      }\n      var pCharasArray = sortByCount(objectToArray(pCharas));\n      displayCharaCount(pCharasArray, '#character-count');\n\n      // 都道府県別集計\n      var regionCount = [];\n      for (var key in entries) {\n        var entry = entries[key];\n        for (var i = 0, len = entry.members.length; i < len; i++) {\n          if (entry.members[i].region !== '選択してください') {\n            var region = parseInt(entry.members[i].region, 10);\n            if (!regionCount[region]) {\n              regionCount[region] = 0;\n            }\n            regionCount[region]++;\n          }\n        }\n      }\n\n      var regionData = [];\n      for (var i = 0, len = regionCount.length; i < len; i++) {\n        if (regionCount[i] !== undefined) {\n          regionData.push({\n            name: REGIONS[i-1],\n            count: regionCount[i]\n          });\n        }\n      }\n      regionData.sort(function(a,b){\n        if(a.count < b.count) return 1;\n        if(a.count > b.count) return -1;\n        return 0;\n      });\n\n      $('#region-count').empty();\n      for (var i = 0, len = regionData.length; i < len; i++) {\n        $('#template-region-count').tmpl(regionData[i]).appendTo('#region-count');\n      }\n\n    }, 1000);\n  }\n  function objectToArray(object) {\n    var array = [];\n    for (var key in object) {\n      array.push(object[key]);\n    }\n    return array;\n  }\n  function sortByCount(array) {\n    return array.sort(function(a,b){\n        if(a.count < b.count) return -1;\n        if(a.count > b.count) return 1;\n        return 0;\n    });\n  }\n  function displayCharaCount(array, selecter, totalSelecter) {\n    $(selecter).empty();\n    var totalCount = 0;\n    for (var i = (array.length-1); i >= 0; i--) {\n      var chara = array[i];\n      $('#character-count-template').tmpl(chara).appendTo(selecter);\n      totalCount += chara.count;\n    }\n    if (totalSelecter) {\n      $(totalSelecter).text(totalCount);\n    }\n  }\n\n  function getDateString(date) {\n    if (date === undefined) {\n      date = new Date();\n    } else if (typeof date === 'string' && date.length !== 0) {\n      date = new Date(date);\n    }\n    if (date) {\n      return date.getFullYear() + '/' +\n             padLeft(date.getMonth() + 1) + '/' +\n             padLeft(date.getDate()) + ' ' +\n             padLeft(date.getHours()) + ':' +\n             padLeft(date.getMinutes()) + ':' +\n             padLeft(date.getSeconds());\n    } else {\n      return '';\n    }\n  }\n  function padLeft(str, len, pad) {\n    if (pad === undefined) {\n      pad = '0';\n    }\n    if (len === undefined) {\n      len = 2;\n    }\n    var buf = ''\n    for (var i = 0; i < len; i++) {\n      buf += pad;\n    }\n    str = pad + str;\n    return str.slice(-len);\n  }\n\n  const charaBlank = {\n    name: '',\n    image: 'blank.png'\n  };\n\n  function toTemplateFormat(data, len) {\n    if (!len) {\n      len = 3;\n    }\n    for (let i = 0; i < len; i++) {\n      let member = data.members[i];\n      if (!member) {\n        member = {};\n      }\n      member.name = member.name || '';\n      member.comment = member.comment || '';\n      let character = charas[member.character];\n      if (!character) {\n        character = charaBlank;\n      }\n      member.charaName = character.name;\n      member.charaIcon = character.image;\n      data.members[i] = member;\n    }\n    return data;\n  }\n\n  analytics();\n});\n\nconsole.log('%c　　　　　　　　　　　　　　　　＼　│　／', 'font-family: ＭＳ Ｐゴシック');\nconsole.log('%c　　　　　　　　　　　　　　　　　／￣＼　　 ／￣￣￣￣￣￣￣￣￣', 'font-family: ＭＳ Ｐゴシック');\nconsole.log('%c　　　　　　　　　　　　　　　─（ ﾟ ∀ ﾟ ）＜　さいたまさいたま！', 'font-family: ＭＳ Ｐゴシック');\nconsole.log('%c　　　　　　　　　　　　　　　　　＼＿／　　 ＼＿＿＿＿＿＿＿＿＿', 'font-family: ＭＳ Ｐゴシック');\nconsole.log('%c　　　　　　　　　　　　　　　　／　│　＼', 'font-family: ＭＳ Ｐゴシック');\nconsole.log('%c　　　　　　　　　　　　　　　　　　　 ∩ ∧　∧　　／￣￣￣￣￣￣￣￣￣￣', 'font-family: ＭＳ Ｐゴシック');\nconsole.log('%c￣￣￣￣￣￣￣￣＼　　∩ ∧　∧　　　　＼（ ﾟ∀ﾟ）＜　さいたまさいたまさいたま！', 'font-family: ＭＳ Ｐゴシック');\nconsole.log('%cさいたま～～～！ 　 ＞（ ﾟ∀ﾟ ）/ 　　　｜　　　/ 　＼＿＿＿＿＿＿＿＿＿＿', 'font-family: ＭＳ Ｐゴシック');\nconsole.log('%c＿＿＿＿＿＿＿＿／ 　｜　　 〈　　　　｜　　｜　', 'font-family: ＭＳ Ｐゴシック');\nconsole.log('%c　　　　　　　　　　 /　／＼_」　　　/　／＼」', 'font-family: ＭＳ Ｐゴシック');\nconsole.log('%c　　　　　　　　　　 ￣　　　　　　 / ／', 'font-family: ＭＳ Ｐゴシック');\nconsole.log('バグを見つけたら @yoshikawa_t まで');\n"],"sourceRoot":"/source/"}