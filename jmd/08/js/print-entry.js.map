{"version":3,"file":"print-entry.js","names":["$","REGIONS","ENV","arcade","ps3","xbox","CHARACTERS","id","name","image","charas","i","len","length","chara","count","optionsHTML","character","$options","each","select","append","clone","regionOptionsHTML","region","$regionOptions","on","prop","changeForm","lastModifyEntryKey","database","firebase","ref","teamsRef","child","singlesRef","entries","configRef","config","once","snapshot","val","open","adminPass","set","configUpdated","show","hide","teamNo","teams","team","key","no","members","tmpl","toTemplateFormat","fadeIn","appendTo","addOption","push","teamUpdated","singles","single","prependTo","singleUpdated","remove","removeOption","splice","old","replaceWith","changeOptionLabel","e","preventDefault","collapse","enableActionButtons","hideMessages","isMediation","validate","data","getFormData","dataRef","onComplete","trigger","showMessage","setTimeout","modal","showMessage2","password","md5","entry","setFormData","text","removeClass","pass","comfirmDelete","href","replace","scrollTo","type","enabled","isEdit","num","concat","updatedAt","Date","toString","comment","env","history","after","selector","label","value","reverse","prepend","find","option","message","fadeOut","empty","className","addClass","handle","div","span","button","cancel","adjust","animate","scrollTop","eq","offset","top","document","hasClass","focus","style","cssText","reset","urlReplace","attr","pushState","location","hash","back","updateTotalCount","getDateString","analytics","upCountTask","totalCount","forEach","member","clearTimeout","afterCount","click","clearFormPlayer","selectedIndex","task","pCharas","extend","pCharasArray","sortByCount","objectToArray","displayCharaCount","regionCount","parseInt","regionData","undefined","sort","a","b","object","array","selecter","totalSelecter","date","getFullYear","padLeft","getMonth","getDate","getHours","getMinutes","getSeconds","str","pad","buf","slice","charaBlank","charaName","charaIcon","console","log"],"sources":["print-entry.js"],"sourcesContent":["$(function(){\n  var REGIONS = ['北海道','青森県','岩手県','宮城県','秋田県',\n  '山形県','福島県','茨城県','栃木県','群馬県','埼玉県','千葉県',\n  '東京都','神奈川県','新潟県','富山県','石川県','福井県','山梨県',\n  '長野県','岐阜県','静岡県','愛知県','三重県','滋賀県','京都府',\n  '大阪府','兵庫県','奈良県','和歌山県','鳥取県','島根県','岡山県',\n  '広島県','山口県','徳島県','香川県','愛媛県','高知県','福岡県',\n  '佐賀県','長崎県','熊本県','大分県','宮崎県','鹿児島県','沖縄県'\n  ];\n  var ENV = {\n    arcade: 'アーケード',\n    ps3: 'PS3',\n    xbox: 'Xbox'\n  }\n\n  var CHARACTERS = [\n    {\n      id: 'anakaris',\n      name: 'アナカリス',\n      image: 'img_s_anakaris_50x50.jpg'\n    }, {\n      id: 'aulbath',\n      name: 'オルバス',\n      image: 'img_s_aulbath_50x50.jpg'\n    }, {\n      id: 'bishamon',\n      name: 'ビシャモン',\n      image: 'img_s_bishamon_50x50.jpg'\n    }, {\n      id: 'bulleta',\n      name: 'バレッタ',\n      image: 'img_s_bulleta_50x50.jpg'\n    }, {\n      id: 'demitri',\n      name: 'デミトリ',\n      image: 'img_s_demitri_50x50.jpg'\n    }, {\n      id: 'felicia',\n      name: 'フェリシア',\n      image: 'img_s_felicia_50x50.jpg'\n    }, {\n      id: 'gallon',\n      name: 'ガロン',\n      image: 'img_s_gallon_50x50.jpg'\n    }, {\n      id: 'jedah',\n      name: 'ジェダ',\n      image: 'img_s_jedah_50x50.jpg'\n    }, {\n      id: 'leilei',\n      name: 'レイレイ',\n      image: 'img_s_leilei_50x50.jpg'\n    }, {\n      id: 'lilith',\n      name: 'リリス',\n      image: 'img_s_lilith_50x50.jpg'\n    }, {\n      id: 'morrigan',\n      name: 'モリガン',\n      image: 'img_s_morrigan_50x50.jpg'\n    }, {\n      id: 'qbee',\n      name: 'キュービー',\n      image: 'img_s_qbee_50x50.jpg'\n    }, {\n      id: 'sasquatch',\n      name: 'サスカッチ',\n      image: 'img_s_sasquatch_50x50.jpg'\n    }, {\n      id: 'victor',\n      name: 'ビクトル',\n      image: 'img_s_victor_50x50.jpg'\n    }, {\n      id: 'zabel',\n      name: 'ザベル',\n      image: 'img_s_zabel_50x50.jpg'\n    }\n  ];\n\n  // ハッシュ作成\n  var charas = {}\n  for (var i = 0, len = CHARACTERS.length; i < len; i++) {\n    var chara = CHARACTERS[i];\n    charas[chara.id] = {\n      name: chara.name,\n      image: chara.image,\n      count: 0\n    };\n  }\n\n  // 使用キャラ選択の作成\n  var optionsHTML = '';\n  for (var i = 0, len = CHARACTERS.length; i < len; i++) {\n    var character = CHARACTERS[i];\n    optionsHTML +=\n      '<option value=\"' + character.id + '\">' + character.name + '</option>';\n  }\n  var $options = $(optionsHTML);\n  $('select.characters').each(function(i, select) {\n    $(select).append($options.clone());\n  });\n\n  // 都道府県選択の作成\n  var regionOptionsHTML = '';\n  for (var i = 0, len = REGIONS.length; i < len; i++) {\n    var region = REGIONS[i];\n    regionOptionsHTML +=\n      '<option value=\"' + (i+1) + '\">' + region + '</option>';\n  }\n  var $regionOptions = $(regionOptionsHTML);\n  $('select.regions').each(function(i, select) {\n    $(select).append($regionOptions.clone());\n  });\n\n  // フォーム切替\n  $('input[name=entry-type]').on('change', function() {\n    if ($('#type-single').prop('checked')) {\n      changeForm('single');\n    } else {\n      changeForm('team');\n    }\n  });\n\n  var lastModifyEntryKey = '';\n\n  // firebase\n  var database = firebase.database();\n  var ref = database.ref('05/data');\n  var teamsRef = ref.child('teams');\n  var singlesRef = ref.child('singles');\n  var entries = {};\n\n  // 設定\n  var configRef = ref.child('config');\n  var config;\n  configRef.child('open');\n  configRef.once('value', function(snapshot) {\n    config = snapshot.val();\n    if (!config) {\n      config = {\n        open: true,\n        adminPass: 'e421b0ade1927b91fa41bfa2baf72eb5'\n      }\n      configRef.set(config);\n    }\n    configUpdated(config);\n    configRef.on('value', function(snapshot) {\n      config = snapshot.val();\n      configUpdated(config);\n    });\n  });\n\n  function configUpdated(config) {\n    if (config.open) {\n      $('.entry-action').show();\n    } else {\n      $('.entry-action').hide();\n    }\n  }\n\n  // 追加\n  var teamNo = 0;\n  var teams = [];\n  teamsRef.on('child_added', function(snapshot) {\n    var team = snapshot.val();\n    var key = snapshot.key;\n    team.no = ++teamNo;\n    team.key = key;\n    switch (team.members.length) {\n      case 3:\n        $('#template-team3').tmpl(toTemplateFormat(team, 3)).fadeIn(1000).appendTo('#teams');\n        break;\n      case 2:\n        $('#template-team2').tmpl(toTemplateFormat(team, 2)).fadeIn(1000).appendTo('#teams');\n        break;\n      case 1:\n        $('#template-team1').tmpl(toTemplateFormat(team, 1)).fadeIn(1000).appendTo('#teams');\n        break;\n      default:\n    }\n\n    entries[key] = team;\n    addOption('#target-team', team.name, key, true);\n    teams.push(team);\n    teamUpdated(team);\n  });\n  var singles = [];\n  singlesRef.on('child_added', function(snapshot) {\n    var single = snapshot.val();\n    var key = snapshot.key;\n    single.key = key;\n    $('#template-single').tmpl(toTemplateFormat(single, 1)).fadeIn(1000).prependTo('#singles');\n    entries[key] = single;\n    addOption('#target-single', single.members[0].name, key, true);\n    singles.push(single);\n    singleUpdated(single);\n  });\n\n  // 削除\n  teamsRef.on('child_removed', function(snapshot) {\n    var key = snapshot.key;\n    $('#' + key).remove();\n    removeOption('#target-team', key);\n    delete entries[key];\n    for (var i = 0, len = teams.length; i < len; i++) {\n      if (teams[i].key === key) {\n        teams.splice(i, 1);\n        break;\n      }\n    }\n    teamUpdated();\n  });\n  singlesRef.on('child_removed', function(snapshot) {\n    var key = snapshot.key;\n    $('#' + key).remove();\n    removeOption('#target-single', key);\n    delete entries[key];\n    for (var i = 0, len = singles.length; i < len; i++) {\n      if (singles[i].key === key) {\n        singles.splice(i, 1);\n        break;\n      }\n    }\n    singleUpdated();\n  });\n\n  // 変更\n  teamsRef.on('child_changed', function(snapshot, old) {\n    var team = snapshot.val();\n    var key = snapshot.key;\n    team.no = entries[key].no;\n    team.key = key;\n\n    switch (team.members.length) {\n      case 3:\n        $('#' + key).replaceWith($('#template-team3').tmpl(toTemplateFormat(team, 3)).fadeIn(1000));\n        break;\n      case 2:\n        $('#' + key).replaceWith($('#template-team2').tmpl(toTemplateFormat(team, 2)).fadeIn(1000));\n        break;\n      case 1:\n        $('#' + key).replaceWith($('#template-team1').tmpl(toTemplateFormat(team, 1)).fadeIn(1000));\n        break;\n      default:\n    }\n\n    \n    entries[key] = team;\n    changeOptionLabel('#target-team', team.name, key);\n    for (var i = 0, len = teams.length; i < len; i++) {\n      if (teams[i].key === key) {\n        teams[i] = team;\n        break;\n      }\n    }\n    teamUpdated(team);\n  });\n  singlesRef.on('child_changed', function(snapshot, old) {\n    var single = snapshot.val();\n    var key = snapshot.key;\n    single.key = key;\n    $('#' + key).replaceWith($('#template-single').tmpl(toTemplateFormat(single, 1)).fadeIn(1000));\n    entries[key] = single;\n    changeOptionLabel('#target-single', single.members[0].name, key);\n    for (var i = 0, len = singles.length; i < len; i++) {\n      if (singles[i].key === key) {\n        singles[i] = single;\n        break;\n      }\n    }\n    singleUpdated(single);\n  });\n\n\n  // エントリー（保存）\n  $('#entry-button').on('click', function(e) {\n    e.preventDefault();\n    $('#edit-form').collapse('hide');\n    enableActionButtons(false);\n    hideMessages();\n\n    // validate\n    var isMediation = $('#type-single').prop('checked');\n    if (!validate(isMediation)) {\n      enableActionButtons(true);\n      return false;\n    }\n    var data = getFormData();\n    var dataRef;\n    if (isMediation) {\n      dataRef = singlesRef.push(data, onComplete);\n    } else {\n      dataRef = teamsRef.push(data, onComplete);\n    }\n\n    function onComplete() {\n      $('#type-team').trigger('change');\n      showMessage('success', 'エントリーが完了しました', true);\n      $('.team-entry-form > .form-group').hide();\n      setTimeout(function(){\n        $('#team-entry').modal('hide');\n      }, 1500);\n      lastModifyEntryKey = dataRef.key;\n    }\n  });\n\n  // 編集・削除の入力\n  $('#input-button').on('click', function(e){\n    e.preventDefault();\n    hideMessages();\n\n    if ($('#target').prop('selectedIndex') === 0) {\n      showMessage2('danger', '対象のエントリーを選択してください');\n      return false;\n    }\n    if ($('#input-pass').val().length === 0) {\n      showMessage2('danger', 'パスワードを入力してください');\n      return false;\n    }\n\n    var key = $('#target').val();\n    var password = md5($('#input-pass').val());\n    var entry = entries[key];\n    if (entry.password === password || config.adminPass === password) {\n      // エントリー情報セット\n      setFormData(entry, key);\n      $('#message').hide();\n      $('#entry-button').hide();\n      $('#edit-button').show();\n      $('#delete-button').show();\n      $('#entry-form-title').text('エントリーの編集・削除');\n      $('.entry-explain').hide();\n      $('.pass .badge').hide();\n      $('#pass').removeClass('require').prop('placeholder', 'パスワードを変更する');\n      $('#team-entry').removeClass('edit');\n      hideMessages();\n    } else {\n      showMessage2('danger', 'パスワードが違います');\n      return false;\n    }\n  });\n\n  // 編集する\n  $('#edit-button').on('click', function(e) {\n    e.preventDefault();\n\n    enableActionButtons(false);\n    hideMessages();\n\n    // validate\n    var key = $('#key').val();\n    if (key.length === 0) {\n      showMessage('danger', 'エラーが発生しました。もう一度最初からやり直してください');\n      enableActionButtons(true);\n      return false;\n    }\n    var isMediation = $('#type-single').prop('checked');\n    if (!validate(isMediation, true)) {\n      enableActionButtons(true);\n      return false;\n    }\n\n\n    var data = getFormData();\n    var dataRef;\n\n    // パスワードの入力がなければ旧パスワードのまま\n    var pass = $('#pass').val();\n    if (pass.length !== 0) {\n      data.password = md5(pass);\n    } else {\n      data.password = entries[key].password;\n    }\n    var dataRef;\n    if (!entries[key].name && !isMediation) {\n      // 斡旋からチームエントリー\n      dataRef = singlesRef.child(key);\n      dataRef.set(null);\n      dataRef = teamsRef.push(data, onComplete);\n    } else if (entries[key].name && isMediation) {\n      // チームエントリーから斡旋\n      dataRef = teamsRef.child(key);\n      dataRef.set(null);\n      dataRef = singlesRef.push(data, onComplete);\n    } else if (isMediation) {\n      // 斡旋から斡旋\n      dataRef = singlesRef.child(key);\n      dataRef.set(data, onComplete);\n    } else {\n      // チームエントリーからチームエントリー\n      dataRef = teamsRef.child(key);\n      dataRef.set(data, onComplete);\n    }\n    function onComplete() {\n      showMessage('success', '編集が完了しました', true);\n      $('.team-entry-form > .form-group').hide();\n      setTimeout(function(){\n        $('#team-entry').modal('hide');\n      }, 1500);\n      lastModifyEntryKey = dataRef.key;\n    }\n  });\n\n  // 削除する\n  $('#delete-button').on('click', function(e) {\n    e.preventDefault();\n\n    enableActionButtons(false);\n    // validate\n    var key = $('#key').val();\n    if (key.length === 0) {\n      showMessage('danger', 'エラーが発生しました。もう一度最初からやり直してください');\n      enableActionButtons(true);\n      return false;\n    }\n    comfirmDelete(function(e){\n      e.preventDefault();\n      var isMediation = $('#type-single').prop('checked');\n      var dataRef;\n      if (isMediation) {\n        dataRef = singlesRef.child(key);\n        dataRef.set(null, onComplete);\n      } else {\n        dataRef = teamsRef.child(key);\n        dataRef.set(null, onComplete);\n      }\n    });\n\n    function onComplete() {\n      showMessage('success', '削除が完了しました', true);\n      $('.team-entry-form > .form-group').hide();\n      setTimeout(function(){\n        $('#team-entry').modal('hide');\n      }, 1500);\n    }\n  });\n\n  // スムーズスクロール\n  $('.anchor-button').on('click', function(e) {\n    e.preventDefault();\n    var href = '#' + this.href.replace(/.*#/, '');\n    scrollTo(href, -70);\n  });\n\n  function hideMessages() {\n    $('#message').hide();\n    $('#message2').hide();\n  }\n\n  function changeForm(type) {\n    if (type === 'single') {\n      $('#member1').show();\n      $('#member1 > legend').hide();\n      $('#member2').hide();\n      $('#member3').hide();\n      $('#team-name').hide();\n      $('.pass').show();\n    } else {\n      $('#member1').show();\n      $('#member1 > legend').show();\n      $('#member2').show();\n      $('#member3').show();\n      $('#team-name').show();\n      $('.pass').show();\n    }\n  }\n\n  function enableActionButtons(enabled) {\n    $('#entry-button').prop('disabled', !enabled);\n    $('#edit-button').prop('disabled', !enabled);\n    $('#delete-button').prop('disabled', !enabled);\n    $('#cancel-button').prop('disabled', !enabled);\n  }\n\n  function validate(isMediation, isEdit) {\n    if (typeof isEdit == 'undefined') {\n      isEdit = false\n    }\n    if (!isMediation) {\n      if ($('#teamName').val().length === 0) {\n        showMessage('danger', 'チーム名を入力してください');\n        return false;\n      }\n    }\n    if ($('#member1-name').val().length === 0) {\n      showMessage('danger', '1人目のプレイヤー名を入力してください');\n      return false;\n    }\n    if ($('#member1-character').prop('selectedIndex') === 0) {\n      showMessage('danger', '1人目の使用キャラを選択してください');\n      return false;\n    }\n    if (!isMediation) {\n      for (let i = 1; i < 3; i++) {\n        let num = i + 1;\n          if ( $(`#member${num}-name`).val() ||\n            $(`#member${num}-character`).prop('selectedIndex') !== 0 ||\n            $(`#member${num}-comment`).val() ||\n            $(`#member${num}-region`).prop('selectedIndex') !== 0 ||\n            $(`#member${num}-env`).prop('selectedIndex') !== 0 ||\n            $(`#member${num}-history`).val() ||\n            $(`#member${num}-join-ok`).prop('checked') ||\n            $(`#member${num}-join-ng`).prop('checked')\n          ) {\n            if ($(`#member${num}-name`).val().length === 0) {\n              showMessage('danger', `${num}人目のプレイヤー名を入力してください`);\n              return false;\n            }\n            if ($(`#member${num}-character`).prop('selectedIndex') === 0) {\n              showMessage('danger', `${num}人目の使用キャラを選択してください`);\n              return false;\n            }\n          }\n      }\n    }\n    // if (!isMediation) {\n    //   if ($('#member2-name').val().length === 0) {\n    //     showMessage('danger', '2人目のプレイヤー名を入力してください');\n    //     return false;\n    //   }\n    //   if ($('#member2-character').prop('selectedIndex') === 0) {\n    //     showMessage('danger', '2人目の使用キャラを選択してください');\n    //     return false;\n    //   }\n    //   if ($('#member3-name').val().length === 0) {\n    //     showMessage('danger', '3人目のプレイヤー名を入力してください');\n    //     return false;\n    //   }\n    //   if ($('#member3-character').prop('selectedIndex') === 0) {\n    //     showMessage('danger', '3人目の使用キャラを選択してください');\n    //     return false;\n    //   }\n    // }\n    if (!isEdit && $('#pass').val().length === 0) {\n      showMessage('danger', '削除・編集用のパスワードを入力してください');\n      return false;\n    }\n    return true;\n  }\n\n  function getFormData() {\n    // must inputs\n    var data = {\n      updatedAt: new Date().toString(),\n      password: md5($('#pass').val()),\n      members: []\n    }\n\n    for (let i = 0; i < 3; i++) {\n      let num = i + 1;\n      if ($(`#member${num}-name`).val()) {\n        data.members.push({\n          name: $(`#member${num}-name`).val(),\n          character: $(`#member${num}-character`).val(),\n          comment: $(`#member${num}-comment`).val().replace(/[\\n\\r]/g, ''),\n          region: $(`#member${num}-region`).val(),\n          env: $(`#member${num}-env`).val() || '',\n          history: $(`#member${num}-history`).val() || '',\n          after: $(`input[name=member${num}-after]:checked`).val() || ''\n        });\n      }\n    }\n\n    if ($('#type-team').prop('checked')) {\n      // チーム名\n      data.name = $('#teamName').val();\n    }\n    return data;\n  }\n\n  function setFormData(entry, key) {\n    $('#key').val(key || '');\n\n    for (let i = 0; i < entry.members.length; i++) {\n      let num = i + 1;\n      $(`#member${num}-name`).val(entry.members[i].name);\n      $(`#member${num}-character`).val(entry.members[i].character);\n      $(`#member${num}-comment`).val(entry.members[i].comment);\n      $(`#member${num}-region`).val(entry.members[i].region);\n      $(`#member${num}-env`).val(entry.members[i].env);\n      $(`#member${num}-history`).val(entry.members[i].history);\n      let after = entry.members[i].after;\n      if (after) {\n        if (after == 1) {\n          $(`#member${num}-join-ok`).prop('checked', true);\n        } else {\n          $(`#member${num}-join-ng`).prop('checked', true);\n        }\n      }\n    }\n\n    if (entry.name && entry.name.length !== 0) {\n      $('#type-team').prop('checked', true).trigger('change');\n      $('#teamName').val(entry.name);\n    } else {\n      $('#type-single').prop('checked', true).trigger('change');\n    }\n  }\n\n  function addOption(selector, label, value, reverse) {\n    if (reverse) {\n      $(selector).prepend($('<option/>').text(label).val(value));\n    } else {\n      $(selector).append($('<option/>').text(label).val(value));\n    }\n  }\n\n  function removeOption(selector, value) {\n    $(selector).find('option').each(function(i, option) {\n      if (option.value === value) {\n        $(option).remove();\n        return;\n      }\n    });\n  }\n  function changeOptionLabel(selector, label, value) {\n    $(selector).find('option').each(function(i, option) {\n      if (option.value === value) {\n        $(option).text(label);\n        return;\n      }\n    });\n  }\n\n  function showMessage(type, message, fadeOut) {\n    $('#message').empty();\n    // if (typeof fadeOut === 'undefined') {\n    //   fadeOut = false;\n    // }\n    $('#message')[0].className = '';\n    $('#message').text(message).addClass('alert alert-' + type).show();\n    // if (fadeOut) {\n    //   setTimeout(function(){\n    //     $('#message').fadeOut(1000);\n    //   }, 3000);\n    // }\n  }\n\n  function showMessage2(type, message, fadeOut) {\n    $('#message2').empty();\n    // if (typeof fadeOut === 'undefined') {\n    //   fadeOut = false;\n    // }\n    $('#message2')[0].className = '';\n    $('#message2').text(message).addClass('alert alert-' + type).show();\n    // if (fadeOut) {\n    //   setTimeout(function(){\n    //     $('#message2').fadeOut(1000);\n    //   }, 3000);\n    // }\n  }\n\n  function comfirmDelete(handle) {\n    $('#message').empty();\n    var div = $('<div/>');\n    var span = $('<span/>').text('エントリーを削除します。よろしいですか？');\n    var button = $('<a href=\"#\"/>').addClass('btn btn-danger btn-sm').text('はい').on('click', handle);\n    var cancel = $('<a href=\"#\"/>').addClass('btn btn-default btn-sm').text('いいえ').on('click', function(e){\n      e.preventDefault();\n      $('#message').hide();\n    });\n    div.append(span);\n    div.append(button);\n    div.append(cancel);\n    $('#message')[0].className = '';\n    $('#message').append(div).addClass('alert alert-danger').show();\n  }\n\n  function scrollTo(selector, adjust) {\n    $(\"html,body\").animate({scrollTop:$(selector).eq(0).offset().top + adjust});\n  }\n\n  $('.to-edit-form').on('click', function(e) {\n    e.preventDefault();\n    $('#team-entry').addClass('edit').modal();\n  });\n  $('.to-entry-form').on('click', function(e) {\n    e.preventDefault();\n    $('#team-entry').removeClass('edit').modal();\n  });\n  $(document).on('click', '.edit-link', function(e) {\n    e.preventDefault();\n    $('#target').val($(this).data('id'));\n    $('#team-entry').addClass('edit').modal();\n  });\n  $('#team-entry').on('shown.bs.modal', function (e) {\n    if ($('#team-entry').hasClass('edit')) {\n      if ($('#target').prop('selectedIndex') !== 0) {\n        $('#input-pass').focus();\n      } else {\n        $('#target').focus();\n      }\n    }\n  });\n  $('#team-entry').on('hidden.bs.modal', function(e) {\n    $('#entry-form-title').text('エントリー');\n    $('#entry-button')[0].style.cssText = '';\n    $('.entry-explain')[0].style.cssText = '';\n    $('#edit-button')[0].style.cssText = '';\n    $('#delete-button')[0].style.cssText = '';\n    $('.pass .badge')[0].style.cssText = '';\n    $('#pass').addClass('require').prop('placeholder', '');\n    $('.team-entry-form')[0].reset();\n    $('.team-entry-form > .form-group')[0].style.cssText = '';\n    $('.edit-form')[0].reset();\n    changeForm();\n    enableActionButtons(true);\n    hideMessages();\n\n    if (lastModifyEntryKey) {\n      var selector = '#' + lastModifyEntryKey;\n      scrollTo(selector, -100);\n      $(selector).addClass('done');\n      setTimeout(function() {\n        $(selector).addClass('animate');\n      }, 100);\n      lastModifyEntryKey = '';\n    }\n  });\n  $('.change-edit-form').on('click', function(e) {\n    e.preventDefault();\n    $('#team-entry').addClass('edit');\n    hideMessages();\n  });\n\n  // modalが表示された時\n  $(\".modal\").on(\"shown.bs.modal\", function() {\n    var urlReplace = \"#\" + $(this).attr('id')\n    history.pushState(null, null, urlReplace)\n  });\n\n  // modalの閉じる機能が動作した時\n  $(\".modal\").on(\"hidden.bs.modal\", function () {\n    if(location.hash == \"#\" + $(this).attr('id')) {\n      history.back()\n    }\n  });\n\n  function teamUpdated(team) {\n    $('.team-entry-count').text(teams.length);\n    updateTotalCount();\n    if (team) {\n      if (team.updatedAt) {\n        $('.team-last-updated-at').text(getDateString(team.updatedAt));\n      }\n    } else {\n      $('.team-last-updated-at').text(getDateString());\n    }\n    analytics();\n  }\n  function singleUpdated(single) {\n    $('.single-entry-count').text(singles.length);\n    updateTotalCount();\n    if (single) {\n      if (single.updatedAt) {\n        $('.single-last-updated-at').text(getDateString(single.updatedAt));\n      }\n    } else {\n      $('.single-last-updated-at').text(getDateString());\n    }\n    analytics();\n  }\n  var upCountTask;\n  function updateTotalCount() {\n    let totalCount = 0;\n    teams.forEach(team => {\n      team.members.forEach(member => {\n        if (member.name) {\n          totalCount++;\n        }\n      });\n    });\n    singles.forEach(team => {\n      team.members.forEach(member => {\n        if (member.name) {\n          totalCount++;\n        }\n      });\n    });\n    $('.total-count').text(totalCount);\n\n    if (upCountTask) {\n      clearTimeout(upCountTask);\n    }\n    upCountTask = setTimeout(function() {\n      var afterCount = 0;\n      for (var key in entries) {\n        var entry = entries[key];\n        for (var i = 0, len = entry.members.length; i < len; i++) {\n          var member = entry.members[i];\n          if (member.after == 1) {\n            afterCount++;\n          }\n        }\n      }\n      $('.after-count').text(afterCount);\n    }, 1000);\n  }\n\n  $('#clear-btn-2').click(function(e) {\n    e.preventDefault();\n    clearFormPlayer(2);\n  });\n  $('#clear-btn-3').click(function(e) {\n    e.preventDefault();\n    clearFormPlayer(3);\n  })\n\n  function clearFormPlayer(num) {\n    if (!num) {\n      return;\n    }\n    $('#member' + num + '-name').val('');\n    $('#member' + num + '-character')[0].selectedIndex = 0;\n    $('#member' + num + '-comment').val('');\n    $('#member' + num + '-region')[0].selectedIndex = 0;\n    $('#member' + num + '-env')[0].selectedIndex = 0;\n    $('#member' + num + '-history').val('');\n    $('#member' + num + '-join-ok').prop('checked', false);\n    $('#member' + num + '-join-ng').prop('checked', false);\n  }\n\n  var task;\n  function analytics() {\n    if (task) {\n      clearTimeout(task);\n    }\n    task = setTimeout(function() {\n      var pCharas = $.extend(true, {}, charas);\n      for (var key in entries) {\n        var entry = entries[key];\n        for (var i = 0, len = entry.members.length; i < len; i++) {\n          if (pCharas[entry.members[i].character]) {\n            pCharas[entry.members[i].character].count++;\n          }\n        }\n      }\n      var pCharasArray = sortByCount(objectToArray(pCharas));\n      displayCharaCount(pCharasArray, '#character-count');\n\n      // 都道府県別集計\n      var regionCount = [];\n      for (var key in entries) {\n        var entry = entries[key];\n        for (var i = 0, len = entry.members.length; i < len; i++) {\n          if (entry.members[i].region !== '選択してください') {\n            var region = parseInt(entry.members[i].region, 10);\n            if (!regionCount[region]) {\n              regionCount[region] = 0;\n            }\n            regionCount[region]++;\n          }\n        }\n      }\n\n      var regionData = [];\n      for (var i = 0, len = regionCount.length; i < len; i++) {\n        if (regionCount[i] !== undefined) {\n          regionData.push({\n            name: REGIONS[i-1],\n            count: regionCount[i]\n          });\n        }\n      }\n      regionData.sort(function(a,b){\n        if(a.count < b.count) return 1;\n        if(a.count > b.count) return -1;\n        return 0;\n      });\n\n      $('#region-count').empty();\n      for (var i = 0, len = regionData.length; i < len; i++) {\n        $('#template-region-count').tmpl(regionData[i]).appendTo('#region-count');\n      }\n\n    }, 1000);\n  }\n  function objectToArray(object) {\n    var array = [];\n    for (var key in object) {\n      array.push(object[key]);\n    }\n    return array;\n  }\n  function sortByCount(array) {\n    return array.sort(function(a,b){\n        if(a.count < b.count) return -1;\n        if(a.count > b.count) return 1;\n        return 0;\n    });\n  }\n  function displayCharaCount(array, selecter, totalSelecter) {\n    $(selecter).empty();\n    var totalCount = 0;\n    for (var i = (array.length-1); i >= 0; i--) {\n      var chara = array[i];\n      $('#character-count-template').tmpl(chara).appendTo(selecter);\n      totalCount += chara.count;\n    }\n    if (totalSelecter) {\n      $(totalSelecter).text(totalCount);\n    }\n  }\n\n  function getDateString(date) {\n    if (date === undefined) {\n      date = new Date();\n    } else if (typeof date === 'string' && date.length !== 0) {\n      date = new Date(date);\n    }\n    if (date) {\n      return date.getFullYear() + '/' +\n             padLeft(date.getMonth() + 1) + '/' +\n             padLeft(date.getDate()) + ' ' +\n             padLeft(date.getHours()) + ':' +\n             padLeft(date.getMinutes()) + ':' +\n             padLeft(date.getSeconds());\n    } else {\n      return '';\n    }\n  }\n  function padLeft(str, len, pad) {\n    if (pad === undefined) {\n      pad = '0';\n    }\n    if (len === undefined) {\n      len = 2;\n    }\n    var buf = ''\n    for (var i = 0; i < len; i++) {\n      buf += pad;\n    }\n    str = pad + str;\n    return str.slice(-len);\n  }\n\n  const charaBlank = {\n    name: '',\n    image: 'blank.png'\n  };\n\n  function toTemplateFormat(data, len) {\n    if (!len) {\n      len = 3;\n    }\n    for (let i = 0; i < len; i++) {\n      let member = data.members[i];\n      if (!member) {\n        member = {};\n      }\n      member.name = member.name || '';\n      member.comment = member.comment || '';\n      let character = charas[member.character];\n      if (!character) {\n        character = charaBlank;\n      }\n      member.charaName = character.name;\n      member.charaIcon = character.image;\n      data.members[i] = member;\n    }\n    return data;\n  }\n\n  analytics();\n});\n\nconsole.log('%c　　　　　　　　　　　　　　　　＼　│　／', 'font-family: ＭＳ Ｐゴシック');\nconsole.log('%c　　　　　　　　　　　　　　　　　／￣＼　　 ／￣￣￣￣￣￣￣￣￣', 'font-family: ＭＳ Ｐゴシック');\nconsole.log('%c　　　　　　　　　　　　　　　─（ ﾟ ∀ ﾟ ）＜　さいたまさいたま！', 'font-family: ＭＳ Ｐゴシック');\nconsole.log('%c　　　　　　　　　　　　　　　　　＼＿／　　 ＼＿＿＿＿＿＿＿＿＿', 'font-family: ＭＳ Ｐゴシック');\nconsole.log('%c　　　　　　　　　　　　　　　　／　│　＼', 'font-family: ＭＳ Ｐゴシック');\nconsole.log('%c　　　　　　　　　　　　　　　　　　　 ∩ ∧　∧　　／￣￣￣￣￣￣￣￣￣￣', 'font-family: ＭＳ Ｐゴシック');\nconsole.log('%c￣￣￣￣￣￣￣￣＼　　∩ ∧　∧　　　　＼（ ﾟ∀ﾟ）＜　さいたまさいたまさいたま！', 'font-family: ＭＳ Ｐゴシック');\nconsole.log('%cさいたま～～～！ 　 ＞（ ﾟ∀ﾟ ）/ 　　　｜　　　/ 　＼＿＿＿＿＿＿＿＿＿＿', 'font-family: ＭＳ Ｐゴシック');\nconsole.log('%c＿＿＿＿＿＿＿＿／ 　｜　　 〈　　　　｜　　｜　', 'font-family: ＭＳ Ｐゴシック');\nconsole.log('%c　　　　　　　　　　 /　／＼_」　　　/　／＼」', 'font-family: ＭＳ Ｐゴシック');\nconsole.log('%c　　　　　　　　　　 ￣　　　　　　 / ／', 'font-family: ＭＳ Ｐゴシック');\nconsole.log('バグを見つけたら @yoshikawa_t まで');\n"],"mappings":"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","ignoreList":[]}