{"version":3,"file":"entry.js","names":["$","REGIONS","ENV","arcade","ps3","xbox","steam","ps4","xboxone","CHARACTERS","id","name","image","charas","i","len","length","chara","count","optionsHTML","character","$options","each","select","append","clone","regionOptionsHTML","region","$regionOptions","on","prop","changeForm","lastModifyEntryKey","database","firebase","ref","teamsRef","child","singlesRef","entries","configRef","config","once","snapshot","val","open","adminPass","set","configUpdated","show","hide","teamNo","teams","team","key","no","tmpl","toTemplateFormat","fadeIn","prependTo","appendTo","addOption","push","teamUpdated","singles","single","members","singleUpdated","remove","removeOption","splice","old","replaceWith","changeOptionLabel","e","preventDefault","collapse","enableActionButtons","hideMessages","isMediation","validate","data","getFormData","dataRef","onComplete","trigger","showMessage","setTimeout","modal","showMessage2","password","md5","entry","setFormData","text","removeClass","pass","comfirmDelete","href","replace","scrollTo","type","enabled","isEdit","num","concat","updatedAt","Date","toString","twitter","comment","env","history","after","matching","console","log","selector","label","value","reverse","prepend","find","option","message","fadeOut","empty","className","addClass","handle","div","span","button","cancel","adjust","animate","scrollTop","eq","offset","top","document","hasClass","focus","style","cssText","reset","urlReplace","attr","pushState","location","hash","back","updateTotalCount","getDateString","analytics","upCountTask","totalCount","forEach","member","clearTimeout","afterCount","click","clearFormPlayer","selectedIndex","task","pCharas","extend","pCharasArray","sortByCount","objectToArray","displayCharaCount","regionCount","parseInt","regionData","undefined","sort","a","b","object","array","selecter","totalSelecter","date","getFullYear","padLeft","getMonth","getDate","getHours","getMinutes","getSeconds","str","pad","buf","slice","charaBlank","charaName","charaIcon"],"sources":["entry.js"],"sourcesContent":["$(function(){\n  var REGIONS = ['北海道','青森県','岩手県','宮城県','秋田県',\n  '山形県','福島県','茨城県','栃木県','群馬県','埼玉県','千葉県',\n  '東京都','神奈川県','新潟県','富山県','石川県','福井県','山梨県',\n  '長野県','岐阜県','静岡県','愛知県','三重県','滋賀県','京都府',\n  '大阪府','兵庫県','奈良県','和歌山県','鳥取県','島根県','岡山県',\n  '広島県','山口県','徳島県','香川県','愛媛県','高知県','福岡県',\n  '佐賀県','長崎県','熊本県','大分県','宮崎県','鹿児島県','沖縄県'\n  ];\n  var ENV = {\n    arcade: 'アーケード',\n    ps3: 'PS3/リザレク',\n    xbox: 'Xbox/リザレク',\n    steam: 'Steam/ファイコレ',\n    ps4: 'PS4/ファイコレ',\n    switch: 'Switch/ファイコレ',\n    xboxone: 'XboxOne/ファイコレ',\n  };\n\n  var CHARACTERS = [\n    {\n      id: 'anakaris',\n      name: 'アナカリス',\n      image: 'img_s_anakaris_50x50.jpg'\n    }, {\n      id: 'aulbath',\n      name: 'オルバス',\n      image: 'img_s_aulbath_50x50.jpg'\n    }, {\n      id: 'bishamon',\n      name: 'ビシャモン',\n      image: 'img_s_bishamon_50x50.jpg'\n    }, {\n      id: 'bulleta',\n      name: 'バレッタ',\n      image: 'img_s_bulleta_50x50.jpg'\n    }, {\n      id: 'demitri',\n      name: 'デミトリ',\n      image: 'img_s_demitri_50x50.jpg'\n    }, {\n      id: 'felicia',\n      name: 'フェリシア',\n      image: 'img_s_felicia_50x50.jpg'\n    }, {\n      id: 'gallon',\n      name: 'ガロン',\n      image: 'img_s_gallon_50x50.jpg'\n    }, {\n      id: 'jedah',\n      name: 'ジェダ',\n      image: 'img_s_jedah_50x50.jpg'\n    }, {\n      id: 'leilei',\n      name: 'レイレイ',\n      image: 'img_s_leilei_50x50.jpg'\n    }, {\n      id: 'lilith',\n      name: 'リリス',\n      image: 'img_s_lilith_50x50.jpg'\n    }, {\n      id: 'morrigan',\n      name: 'モリガン',\n      image: 'img_s_morrigan_50x50.jpg'\n    }, {\n      id: 'qbee',\n      name: 'キュービー',\n      image: 'img_s_qbee_50x50.jpg'\n    }, {\n      id: 'sasquatch',\n      name: 'サスカッチ',\n      image: 'img_s_sasquatch_50x50.jpg'\n    }, {\n      id: 'victor',\n      name: 'ビクトル',\n      image: 'img_s_victor_50x50.jpg'\n    }, {\n      id: 'zabel',\n      name: 'ザベル',\n      image: 'img_s_zabel_50x50.jpg'\n    }\n  ];\n\n  // ハッシュ作成\n  var charas = {}\n  for (var i = 0, len = CHARACTERS.length; i < len; i++) {\n    var chara = CHARACTERS[i];\n    charas[chara.id] = {\n      name: chara.name,\n      image: chara.image,\n      count: 0\n    };\n  }\n\n  // 使用キャラ選択の作成\n  var optionsHTML = '';\n  for (var i = 0, len = CHARACTERS.length; i < len; i++) {\n    var character = CHARACTERS[i];\n    optionsHTML +=\n      '<option value=\"' + character.id + '\">' + character.name + '</option>';\n  }\n  var $options = $(optionsHTML);\n  $('select.characters').each(function(i, select) {\n    $(select).append($options.clone());\n  });\n\n  // 都道府県選択の作成\n  var regionOptionsHTML = '';\n  for (var i = 0, len = REGIONS.length; i < len; i++) {\n    var region = REGIONS[i];\n    regionOptionsHTML +=\n      '<option value=\"' + (i+1) + '\">' + region + '</option>';\n  }\n  var $regionOptions = $(regionOptionsHTML);\n  $('select.regions').each(function(i, select) {\n    $(select).append($regionOptions.clone());\n  });\n\n  // フォーム切替\n  $('input[name=entry-type]').on('change', function() {\n    if ($('#type-single').prop('checked')) {\n      changeForm('single');\n    } else {\n      changeForm('team');\n    }\n  });\n\n  var lastModifyEntryKey = '';\n\n  // firebase\n  var database = firebase.database();\n  var ref = database.ref('08/data');\n  var teamsRef = ref.child('teams');\n  var singlesRef = ref.child('singles');\n  var entries = {};\n\n  // 設定\n  var configRef = ref.child('config');\n  var config;\n  configRef.child('open');\n  configRef.once('value', function(snapshot) {\n    config = snapshot.val();\n    if (!config) {\n      config = {\n        open: true,\n        adminPass: 'e421b0ade1927b91fa41bfa2baf72eb5'\n      }\n      configRef.set(config);\n    }\n    configUpdated(config);\n    configRef.on('value', function(snapshot) {\n      config = snapshot.val();\n      configUpdated(config);\n    });\n  });\n\n  function configUpdated(config) {\n    if (config.open) {\n      $('.entry-action').show();\n    } else {\n      $('.entry-action').hide();\n    }\n  }\n\n  // 追加\n  var teamNo = 0;\n  var teams = [];\n  teamsRef.on('child_added', function(snapshot) {\n    var team = snapshot.val();\n    var key = snapshot.key;\n    team.no = ++teamNo;\n    team.key = key;\n\n    // エントリー受付中は新規エントリー順、停止後は受付順\n    if (config && config.open) {\n      $('#template-team').tmpl(toTemplateFormat(team, 3)).fadeIn(1000).prependTo('#teams');\n    } else {\n      $('#template-team').tmpl(toTemplateFormat(team, 3)).fadeIn(1000).appendTo('#teams');\n    }\n\n    entries[key] = team;\n    addOption('#target-team', team.name, key, true);\n    teams.push(team);\n    teamUpdated(team);\n  });\n  var singles = [];\n  singlesRef.on('child_added', function(snapshot) {\n    var single = snapshot.val();\n    var key = snapshot.key;\n    single.key = key;\n    $('#template-single').tmpl(toTemplateFormat(single, 1)).fadeIn(1000).prependTo('#singles');\n    entries[key] = single;\n    addOption('#target-single', single.members[0].name, key, true);\n    singles.push(single);\n    singleUpdated(single);\n  });\n\n  // 削除\n  teamsRef.on('child_removed', function(snapshot) {\n    var key = snapshot.key;\n    $('#' + key).remove();\n    removeOption('#target-team', key);\n    delete entries[key];\n    for (var i = 0, len = teams.length; i < len; i++) {\n      if (teams[i].key === key) {\n        teams.splice(i, 1);\n        break;\n      }\n    }\n    teamUpdated();\n  });\n  singlesRef.on('child_removed', function(snapshot) {\n    var key = snapshot.key;\n    $('#' + key).remove();\n    removeOption('#target-single', key);\n    delete entries[key];\n    for (var i = 0, len = singles.length; i < len; i++) {\n      if (singles[i].key === key) {\n        singles.splice(i, 1);\n        break;\n      }\n    }\n    singleUpdated();\n  });\n\n  // 変更\n  teamsRef.on('child_changed', function(snapshot, old) {\n    var team = snapshot.val();\n    var key = snapshot.key;\n    team.no = entries[key].no;\n    team.key = key;\n\n    $('#' + key).replaceWith($('#template-team').tmpl(toTemplateFormat(team, 3)).fadeIn(1000));\n\n    entries[key] = team;\n    changeOptionLabel('#target-team', team.name, key);\n    for (var i = 0, len = teams.length; i < len; i++) {\n      if (teams[i].key === key) {\n        teams[i] = team;\n        break;\n      }\n    }\n    teamUpdated(team);\n  });\n  singlesRef.on('child_changed', function(snapshot, old) {\n    var single = snapshot.val();\n    var key = snapshot.key;\n    single.key = key;\n    $('#' + key).replaceWith($('#template-single').tmpl(toTemplateFormat(single, 1)).fadeIn(1000));\n    entries[key] = single;\n    changeOptionLabel('#target-single', single.members[0].name, key);\n    for (var i = 0, len = singles.length; i < len; i++) {\n      if (singles[i].key === key) {\n        singles[i] = single;\n        break;\n      }\n    }\n    singleUpdated(single);\n  });\n\n\n  // エントリー（保存）\n  $('#entry-button').on('click', function(e) {\n    e.preventDefault();\n    $('#edit-form').collapse('hide');\n    enableActionButtons(false);\n    hideMessages();\n\n    // validate\n    var isMediation = $('#type-single').prop('checked');\n    if (!validate(isMediation)) {\n      enableActionButtons(true);\n      return false;\n    }\n    var data = getFormData();\n    var dataRef;\n    if (isMediation) {\n      dataRef = singlesRef.push(data, onComplete);\n    } else {\n      dataRef = teamsRef.push(data, onComplete);\n    }\n\n    function onComplete() {\n      $('#type-team').trigger('change');\n      showMessage('success', 'エントリーが完了しました', true);\n      $('.team-entry-form > .form-group').hide();\n      setTimeout(function(){\n        $('#team-entry').modal('hide');\n      }, 1500);\n      lastModifyEntryKey = dataRef.key;\n    }\n  });\n\n  // 編集・削除の入力\n  $('#input-button').on('click', function(e){\n    e.preventDefault();\n    hideMessages();\n\n    if ($('#target').prop('selectedIndex') === 0) {\n      showMessage2('danger', '対象のエントリーを選択してください');\n      return false;\n    }\n    if ($('#input-pass').val().length === 0) {\n      showMessage2('danger', 'パスワードを入力してください');\n      return false;\n    }\n\n    var key = $('#target').val();\n    var password = md5($('#input-pass').val());\n    var entry = entries[key];\n    if (entry.password === password || config.adminPass === password) {\n      // エントリー情報セット\n      setFormData(entry, key);\n      $('#message').hide();\n      $('#entry-button').hide();\n      $('#edit-button').show();\n      $('#delete-button').show();\n      $('#entry-form-title').text('エントリーの編集・削除');\n      $('.entry-explain').hide();\n      $('.pass .badge').hide();\n      $('#pass').removeClass('require').prop('placeholder', 'パスワードを変更する');\n      $('#team-entry').removeClass('edit');\n      hideMessages();\n    } else {\n      showMessage2('danger', 'パスワードが違います');\n      return false;\n    }\n  });\n\n  // 編集する\n  $('#edit-button').on('click', function(e) {\n    e.preventDefault();\n\n    enableActionButtons(false);\n    hideMessages();\n\n    // validate\n    var key = $('#key').val();\n    if (key.length === 0) {\n      showMessage('danger', 'エラーが発生しました。もう一度最初からやり直してください');\n      enableActionButtons(true);\n      return false;\n    }\n    var isMediation = $('#type-single').prop('checked');\n    if (!validate(isMediation, true)) {\n      enableActionButtons(true);\n      return false;\n    }\n\n\n    var data = getFormData();\n    var dataRef;\n\n    // パスワードの入力がなければ旧パスワードのまま\n    var pass = $('#pass').val();\n    if (pass.length !== 0) {\n      data.password = md5(pass);\n    } else {\n      data.password = entries[key].password;\n    }\n    var dataRef;\n    if (!entries[key].name && !isMediation) {\n      // 斡旋からチームエントリー\n      dataRef = singlesRef.child(key);\n      dataRef.set(null);\n      dataRef = teamsRef.push(data, onComplete);\n    } else if (entries[key].name && isMediation) {\n      // チームエントリーから斡旋\n      dataRef = teamsRef.child(key);\n      dataRef.set(null);\n      dataRef = singlesRef.push(data, onComplete);\n    } else if (isMediation) {\n      // 斡旋から斡旋\n      dataRef = singlesRef.child(key);\n      dataRef.set(data, onComplete);\n    } else {\n      // チームエントリーからチームエントリー\n      dataRef = teamsRef.child(key);\n      dataRef.set(data, onComplete);\n    }\n    function onComplete() {\n      showMessage('success', '編集が完了しました', true);\n      $('.team-entry-form > .form-group').hide();\n      setTimeout(function(){\n        $('#team-entry').modal('hide');\n      }, 1500);\n      lastModifyEntryKey = dataRef.key;\n    }\n  });\n\n  // 削除する\n  $('#delete-button').on('click', function(e) {\n    e.preventDefault();\n\n    enableActionButtons(false);\n    // validate\n    var key = $('#key').val();\n    if (key.length === 0) {\n      showMessage('danger', 'エラーが発生しました。もう一度最初からやり直してください');\n      enableActionButtons(true);\n      return false;\n    }\n    comfirmDelete(function(e){\n      e.preventDefault();\n      var isMediation = $('#type-single').prop('checked');\n      var dataRef;\n      if (isMediation) {\n        dataRef = singlesRef.child(key);\n        dataRef.set(null, onComplete);\n      } else {\n        dataRef = teamsRef.child(key);\n        dataRef.set(null, onComplete);\n      }\n    });\n\n    function onComplete() {\n      showMessage('success', '削除が完了しました', true);\n      $('.team-entry-form > .form-group').hide();\n      setTimeout(function(){\n        $('#team-entry').modal('hide');\n      }, 1500);\n    }\n  });\n\n  // スムーズスクロール\n  $('.anchor-button').on('click', function(e) {\n    e.preventDefault();\n    var href = '#' + this.href.replace(/.*#/, '');\n    scrollTo(href, -70);\n  });\n\n  function hideMessages() {\n    $('#message').hide();\n    $('#message2').hide();\n  }\n\n  function changeForm(type) {\n    if (type === 'single') {\n      $('#member1').show();\n      $('#member1 > legend').hide();\n      $('#member2').hide();\n      $('#member3').hide();\n      $('#team-name').hide();\n      $('.pass').show();\n    } else {\n      $('#member1').show();\n      $('#member1 > legend').show();\n      $('#member2').show();\n      $('#member3').show();\n      $('#team-name').show();\n      $('.pass').show();\n    }\n  }\n\n  function enableActionButtons(enabled) {\n    $('#entry-button').prop('disabled', !enabled);\n    $('#edit-button').prop('disabled', !enabled);\n    $('#delete-button').prop('disabled', !enabled);\n    $('#cancel-button').prop('disabled', !enabled);\n  }\n\n  function validate(isMediation, isEdit) {\n    if (typeof isEdit == 'undefined') {\n      isEdit = false\n    }\n    if (!isMediation) {\n      if ($('#teamName').val().length === 0) {\n        showMessage('danger', 'チーム名を入力してください');\n        return false;\n      }\n    }\n    if ($('#member1-name').val().length === 0) {\n      showMessage('danger', '1人目のプレイヤー名を入力してください');\n      return false;\n    }\n    if ($('#member1-character').prop('selectedIndex') === 0) {\n      showMessage('danger', '1人目の使用キャラを選択してください');\n      return false;\n    }\n    if (!isMediation) {\n      for (let i = 1; i < 3; i++) {\n        let num = i + 1;\n          if ( $(`#member${num}-name`).val() ||\n            $(`#member${num}-character`).prop('selectedIndex') !== 0 ||\n            $(`#member${num}-comment`).val() ||\n            $(`#member${num}-region`).prop('selectedIndex') !== 0 ||\n            $(`#member${num}-env`).prop('selectedIndex') !== 0 ||\n            $(`#member${num}-history`).val() ||\n            $(`#member${num}-join-ok`).prop('checked') ||\n            $(`#member${num}-join-ng`).prop('checked')\n          ) {\n            if ($(`#member${num}-name`).val().length === 0) {\n              showMessage('danger', `${num}人目のプレイヤー名を入力してください`);\n              return false;\n            }\n            if ($(`#member${num}-character`).prop('selectedIndex') === 0) {\n              showMessage('danger', `${num}人目の使用キャラを選択してください`);\n              return false;\n            }\n          }\n      }\n    }\n    // if (!isMediation) {\n    //   if ($('#member2-name').val().length === 0) {\n    //     showMessage('danger', '2人目のプレイヤー名を入力してください');\n    //     return false;\n    //   }\n    //   if ($('#member2-character').prop('selectedIndex') === 0) {\n    //     showMessage('danger', '2人目の使用キャラを選択してください');\n    //     return false;\n    //   }\n    //   if ($('#member3-name').val().length === 0) {\n    //     showMessage('danger', '3人目のプレイヤー名を入力してください');\n    //     return false;\n    //   }\n    //   if ($('#member3-character').prop('selectedIndex') === 0) {\n    //     showMessage('danger', '3人目の使用キャラを選択してください');\n    //     return false;\n    //   }\n    // }\n    if (!isEdit && $('#pass').val().length === 0) {\n      showMessage('danger', '削除・編集用のパスワードを入力してください');\n      return false;\n    }\n    return true;\n  }\n\n  function getFormData() {\n    // must inputs\n    var data = {\n      updatedAt: new Date().toString(),\n      password: md5($('#pass').val()),\n      members: []\n    }\n\n    for (let i = 0; i < 3; i++) {\n      let num = i + 1;\n      if ($(`#member${num}-name`).val()) {\n        data.members.push({\n          name: $(`#member${num}-name`).val(),\n          character: $(`#member${num}-character`).val(),\n          twitter: $(`#member${num}-twitter`).val(),\n          comment: $(`#member${num}-comment`).val().replace(/[\\n\\r]/g, ''),\n          region: $(`#member${num}-region`).val(),\n          env: $(`#member${num}-env`).val() || '',\n          history: $(`#member${num}-history`).val() || '',\n          after: $(`input[name=member${num}-after]:checked`).val() || ''\n        });\n      }\n    }\n\n    if ($('#type-team').prop('checked')) {\n      // チーム名\n      data.name = $('#teamName').val();\n    }\n    data.matching = $(`input[name=matching]:checked`).val() || ''\n    return data;\n  }\n\n  function setFormData(entry, key) {\n    $('#key').val(key || '');\n\n    console.log('debug', entry);\n    for (let i = 0; i < entry.members.length; i++) {\n      let num = i + 1;\n      $(`#member${num}-name`).val(entry.members[i].name);\n      $(`#member${num}-character`).val(entry.members[i].character || '選択してください');\n      $(`#member${num}-twitter`).val(entry.members[i].twitter);\n      $(`#member${num}-comment`).val(entry.members[i].comment);\n      $(`#member${num}-region`).val(entry.members[i].region || '選択してください');\n      $(`#member${num}-env`).val(entry.members[i].env || '選択してください');\n      $(`#member${num}-history`).val(entry.members[i].history);\n      let after = entry.members[i].after;\n      if (after) {\n        if (after == 1) {\n          $(`#member${num}-join-ok`).prop('checked', true);\n        } else {\n          $(`#member${num}-join-ng`).prop('checked', true);\n        }\n      }\n    }\n\n    if (entry.name && entry.name.length !== 0) {\n      $('#type-team').prop('checked', true).trigger('change');\n      $('#teamName').val(entry.name);\n    } else {\n      $('#type-single').prop('checked', true).trigger('change');\n    }\n    let matching = entry.matching;\n    if (matching) {\n      if (matching == 1) {\n        $(`#matching-ok`).prop('checked', true);\n      } else {\n        $(`#matching-ng`).prop('checked', true);\n      }\n    }\n  }\n\n  function addOption(selector, label, value, reverse) {\n    if (reverse) {\n      $(selector).prepend($('<option/>').text(label).val(value));\n    } else {\n      $(selector).append($('<option/>').text(label).val(value));\n    }\n  }\n\n  function removeOption(selector, value) {\n    $(selector).find('option').each(function(i, option) {\n      if (option.value === value) {\n        $(option).remove();\n        return;\n      }\n    });\n  }\n  function changeOptionLabel(selector, label, value) {\n    $(selector).find('option').each(function(i, option) {\n      if (option.value === value) {\n        $(option).text(label);\n        return;\n      }\n    });\n  }\n\n  function showMessage(type, message, fadeOut) {\n    $('#message').empty();\n    // if (typeof fadeOut === 'undefined') {\n    //   fadeOut = false;\n    // }\n    $('#message')[0].className = '';\n    $('#message').text(message).addClass('alert alert-' + type).show();\n    // if (fadeOut) {\n    //   setTimeout(function(){\n    //     $('#message').fadeOut(1000);\n    //   }, 3000);\n    // }\n  }\n\n  function showMessage2(type, message, fadeOut) {\n    $('#message2').empty();\n    // if (typeof fadeOut === 'undefined') {\n    //   fadeOut = false;\n    // }\n    $('#message2')[0].className = '';\n    $('#message2').text(message).addClass('alert alert-' + type).show();\n    // if (fadeOut) {\n    //   setTimeout(function(){\n    //     $('#message2').fadeOut(1000);\n    //   }, 3000);\n    // }\n  }\n\n  function comfirmDelete(handle) {\n    $('#message').empty();\n    var div = $('<div/>');\n    var span = $('<span/>').text('エントリーを削除します。よろしいですか？');\n    var button = $('<a href=\"#\"/>').addClass('btn btn-danger btn-sm').text('はい').on('click', handle);\n    var cancel = $('<a href=\"#\"/>').addClass('btn btn-default btn-sm').text('いいえ').on('click', function(e){\n      e.preventDefault();\n      $('#message').hide();\n    });\n    div.append(span);\n    div.append(button);\n    div.append(cancel);\n    $('#message')[0].className = '';\n    $('#message').append(div).addClass('alert alert-danger').show();\n  }\n\n  function scrollTo(selector, adjust) {\n    $(\"html,body\").animate({scrollTop:$(selector).eq(0).offset().top + adjust});\n  }\n\n  $('.to-edit-form').on('click', function(e) {\n    e.preventDefault();\n    $('#team-entry').addClass('edit').modal();\n  });\n  $('.to-entry-form').on('click', function(e) {\n    e.preventDefault();\n    $('#team-entry').removeClass('edit').modal();\n  });\n  $(document).on('click', '.edit-link', function(e) {\n    e.preventDefault();\n    $('#target').val($(this).data('id'));\n    $('#team-entry').addClass('edit').modal();\n  });\n  $('#team-entry').on('shown.bs.modal', function (e) {\n    if ($('#team-entry').hasClass('edit')) {\n      if ($('#target').prop('selectedIndex') !== 0) {\n        $('#input-pass').focus();\n      } else {\n        $('#target').focus();\n      }\n    }\n  });\n  $('#team-entry').on('hidden.bs.modal', function(e) {\n    $('#entry-form-title').text('エントリー');\n    $('#entry-button')[0].style.cssText = '';\n    $('.entry-explain')[0].style.cssText = '';\n    $('#edit-button')[0].style.cssText = '';\n    $('#delete-button')[0].style.cssText = '';\n    $('.pass .badge')[0].style.cssText = '';\n    $('#pass').addClass('require').prop('placeholder', '');\n    $('.team-entry-form')[0].reset();\n    $('.team-entry-form > .form-group')[0].style.cssText = '';  // 種別\n    $('.team-entry-form > .form-group')[1].style.cssText = '';  // 斡旋希望\n    $('.edit-form')[0].reset();\n    changeForm();\n    enableActionButtons(true);\n    hideMessages();\n\n    if (lastModifyEntryKey) {\n      var selector = '#' + lastModifyEntryKey;\n      scrollTo(selector, -100);\n      $(selector).addClass('done');\n      setTimeout(function() {\n        $(selector).addClass('animate');\n      }, 100);\n      lastModifyEntryKey = '';\n    }\n  });\n  $('.change-edit-form').on('click', function(e) {\n    e.preventDefault();\n    $('#team-entry').addClass('edit');\n    hideMessages();\n  });\n\n  // modalが表示された時\n  $(\".modal\").on(\"shown.bs.modal\", function() {\n    var urlReplace = \"#\" + $(this).attr('id')\n    history.pushState(null, null, urlReplace)\n  });\n\n  // modalの閉じる機能が動作した時\n  $(\".modal\").on(\"hidden.bs.modal\", function () {\n    if(location.hash == \"#\" + $(this).attr('id')) {\n      history.back()\n    }\n  });\n\n  function teamUpdated(team) {\n    $('.team-entry-count').text(teams.length);\n    updateTotalCount();\n    if (team) {\n      if (team.updatedAt) {\n        $('.team-last-updated-at').text(getDateString(team.updatedAt));\n      }\n    } else {\n      $('.team-last-updated-at').text(getDateString());\n    }\n    analytics();\n  }\n  function singleUpdated(single) {\n    $('.single-entry-count').text(singles.length);\n    updateTotalCount();\n    if (single) {\n      if (single.updatedAt) {\n        $('.single-last-updated-at').text(getDateString(single.updatedAt));\n      }\n    } else {\n      $('.single-last-updated-at').text(getDateString());\n    }\n    analytics();\n  }\n  var upCountTask;\n  function updateTotalCount() {\n    let totalCount = 0;\n    teams.forEach(team => {\n      team.members.forEach(member => {\n        if (member.name) {\n          totalCount++;\n        }\n      });\n    });\n    singles.forEach(team => {\n      team.members.forEach(member => {\n        if (member.name) {\n          totalCount++;\n        }\n      });\n    });\n    $('.total-count').text(totalCount);\n\n    if (upCountTask) {\n      clearTimeout(upCountTask);\n    }\n    upCountTask = setTimeout(function() {\n      var afterCount = 0;\n      for (var key in entries) {\n        var entry = entries[key];\n        for (var i = 0, len = entry.members.length; i < len; i++) {\n          var member = entry.members[i];\n          if (member.after == 1) {\n            afterCount++;\n          }\n        }\n      }\n      $('.after-count').text(afterCount);\n    }, 1000);\n  }\n\n  $('#clear-btn-2').click(function(e) {\n    e.preventDefault();\n    clearFormPlayer(2);\n  });\n  $('#clear-btn-3').click(function(e) {\n    e.preventDefault();\n    clearFormPlayer(3);\n  })\n\n  function clearFormPlayer(num) {\n    if (!num) {\n      return;\n    }\n    $('#member' + num + '-name').val('');\n    $('#member' + num + '-character')[0].selectedIndex = 0;\n    $('#member' + num + '-comment').val('');\n    $('#member' + num + '-region')[0].selectedIndex = 0;\n    $('#member' + num + '-env')[0].selectedIndex = 0;\n    $('#member' + num + '-history').val('');\n    $('#member' + num + '-join-ok').prop('checked', false);\n    $('#member' + num + '-join-ng').prop('checked', false);\n  }\n\n  var task;\n  function analytics() {\n    if (task) {\n      clearTimeout(task);\n    }\n    task = setTimeout(function() {\n      var pCharas = $.extend(true, {}, charas);\n      for (var key in entries) {\n        var entry = entries[key];\n        for (var i = 0, len = entry.members.length; i < len; i++) {\n          if (pCharas[entry.members[i].character]) {\n            pCharas[entry.members[i].character].count++;\n          }\n        }\n      }\n      var pCharasArray = sortByCount(objectToArray(pCharas));\n      displayCharaCount(pCharasArray, '#character-count');\n\n      // 都道府県別集計\n      var regionCount = [];\n      for (var key in entries) {\n        var entry = entries[key];\n        for (var i = 0, len = entry.members.length; i < len; i++) {\n          if (entry.members[i].region !== '選択してください') {\n            var region = parseInt(entry.members[i].region, 10);\n            if (!regionCount[region]) {\n              regionCount[region] = 0;\n            }\n            regionCount[region]++;\n          }\n        }\n      }\n\n      var regionData = [];\n      for (var i = 0, len = regionCount.length; i < len; i++) {\n        if (regionCount[i] !== undefined) {\n          regionData.push({\n            name: REGIONS[i-1],\n            count: regionCount[i]\n          });\n        }\n      }\n      regionData.sort(function(a,b){\n        if(a.count < b.count) return 1;\n        if(a.count > b.count) return -1;\n        return 0;\n      });\n\n      $('#region-count').empty();\n      for (var i = 0, len = regionData.length; i < len; i++) {\n        $('#template-region-count').tmpl(regionData[i]).appendTo('#region-count');\n      }\n\n    }, 1000);\n  }\n  function objectToArray(object) {\n    var array = [];\n    for (var key in object) {\n      array.push(object[key]);\n    }\n    return array;\n  }\n  function sortByCount(array) {\n    return array.sort(function(a,b){\n        if(a.count < b.count) return -1;\n        if(a.count > b.count) return 1;\n        return 0;\n    });\n  }\n  function displayCharaCount(array, selecter, totalSelecter) {\n    $(selecter).empty();\n    var totalCount = 0;\n    for (var i = (array.length-1); i >= 0; i--) {\n      var chara = array[i];\n      $('#character-count-template').tmpl(chara).appendTo(selecter);\n      totalCount += chara.count;\n    }\n    if (totalSelecter) {\n      $(totalSelecter).text(totalCount);\n    }\n  }\n\n  function getDateString(date) {\n    if (date === undefined) {\n      date = new Date();\n    } else if (typeof date === 'string' && date.length !== 0) {\n      date = new Date(date);\n    }\n    if (date) {\n      return date.getFullYear() + '/' +\n             padLeft(date.getMonth() + 1) + '/' +\n             padLeft(date.getDate()) + ' ' +\n             padLeft(date.getHours()) + ':' +\n             padLeft(date.getMinutes()) + ':' +\n             padLeft(date.getSeconds());\n    } else {\n      return '';\n    }\n  }\n  function padLeft(str, len, pad) {\n    if (pad === undefined) {\n      pad = '0';\n    }\n    if (len === undefined) {\n      len = 2;\n    }\n    var buf = ''\n    for (var i = 0; i < len; i++) {\n      buf += pad;\n    }\n    str = pad + str;\n    return str.slice(-len);\n  }\n\n  const charaBlank = {\n    name: '',\n    image: 'blank.png'\n  };\n\n  function toTemplateFormat(data, len) {\n    if (!len) {\n      len = 3;\n    }\n    for (let i = 0; i < len; i++) {\n      let member = data.members[i];\n      if (!member) {\n        member = {};\n      }\n      member.name = member.name || '';\n      member.comment = member.comment || '';\n      let character = charas[member.character];\n      if (!character) {\n        character = charaBlank;\n      }\n      member.charaName = character.name;\n      member.charaIcon = character.image;\n      data.members[i] = member;\n    }\n    return data;\n  }\n\n  analytics();\n});\n\nconsole.log('%c　　　　　　　　　　　　　　　　＼　│　／', 'font-family: ＭＳ Ｐゴシック');\nconsole.log('%c　　　　　　　　　　　　　　　　　／￣＼　　 ／￣￣￣￣￣￣￣￣￣', 'font-family: ＭＳ Ｐゴシック');\nconsole.log('%c　　　　　　　　　　　　　　　─（ ﾟ ∀ ﾟ ）＜　さいたまさいたま！', 'font-family: ＭＳ Ｐゴシック');\nconsole.log('%c　　　　　　　　　　　　　　　　　＼＿／　　 ＼＿＿＿＿＿＿＿＿＿', 'font-family: ＭＳ Ｐゴシック');\nconsole.log('%c　　　　　　　　　　　　　　　　／　│　＼', 'font-family: ＭＳ Ｐゴシック');\nconsole.log('%c　　　　　　　　　　　　　　　　　　　 ∩ ∧　∧　　／￣￣￣￣￣￣￣￣￣￣', 'font-family: ＭＳ Ｐゴシック');\nconsole.log('%c￣￣￣￣￣￣￣￣＼　　∩ ∧　∧　　　　＼（ ﾟ∀ﾟ）＜　さいたまさいたまさいたま！', 'font-family: ＭＳ Ｐゴシック');\nconsole.log('%cさいたま～～～！ 　 ＞（ ﾟ∀ﾟ ）/ 　　　｜　　　/ 　＼＿＿＿＿＿＿＿＿＿＿', 'font-family: ＭＳ Ｐゴシック');\nconsole.log('%c＿＿＿＿＿＿＿＿／ 　｜　　 〈　　　　｜　　｜　', 'font-family: ＭＳ Ｐゴシック');\nconsole.log('%c　　　　　　　　　　 /　／＼_」　　　/　／＼」', 'font-family: ＭＳ Ｐゴシック');\nconsole.log('%c　　　　　　　　　　 ￣　　　　　　 / ／', 'font-family: ＭＳ Ｐゴシック');\nconsole.log('バグを見つけたら @yoshikawa_t まで');\n"],"mappings":"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","ignoreList":[]}